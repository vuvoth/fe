<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>The Fe Guide</title>
        
        <meta name="robots" content="noindex" />
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="favicon.svg">
        
        
        <link rel="shortcut icon" href="favicon.png">
        
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        
        <link rel="stylesheet" href="css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
        <link rel="stylesheet" href="theme/reference.css">
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="index.html">Introduction</a></li><li class="chapter-item expanded "><a href="quickstart/index.html"><strong aria-hidden="true">1.</strong> Quickstart</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="quickstart/installation.html"><strong aria-hidden="true">1.1.</strong> Installation</a></li><li class="chapter-item expanded "><a href="quickstart/first_contract.html"><strong aria-hidden="true">1.2.</strong> Write your first contract</a></li><li class="chapter-item expanded "><a href="quickstart/deploy_contract.html"><strong aria-hidden="true">1.3.</strong> Deploying a contract to a testnet</a></li></ol></li><li class="chapter-item expanded "><a href="development/index.html"><strong aria-hidden="true">2.</strong> Development</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="development/build.html"><strong aria-hidden="true">2.1.</strong> Build &amp; Test</a></li><li class="chapter-item expanded "><a href="development/release.html"><strong aria-hidden="true">2.2.</strong> Release</a></li></ol></li><li class="chapter-item expanded "><a href="spec/index.html"><strong aria-hidden="true">3.</strong> Specification (WIP)</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="spec/notation.html"><strong aria-hidden="true">3.1.</strong> Notation</a></li><li class="chapter-item expanded "><a href="spec/lexical_structure/index.html"><strong aria-hidden="true">3.2.</strong> Lexical Structure</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="spec/lexical_structure/keywords.html"><strong aria-hidden="true">3.2.1.</strong> Keywords</a></li><li class="chapter-item expanded "><a href="spec/lexical_structure/identifiers.html"><strong aria-hidden="true">3.2.2.</strong> Identifiers</a></li><li class="chapter-item expanded "><a href="spec/lexical_structure/tokens.html"><strong aria-hidden="true">3.2.3.</strong> Tokens</a></li></ol></li><li class="chapter-item expanded "><a href="spec/comments.html"><strong aria-hidden="true">3.3.</strong> Comments</a></li><li class="chapter-item expanded "><a href="spec/items/index.html"><strong aria-hidden="true">3.4.</strong> Items</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="spec/items/visibility_and_privacy.html"><strong aria-hidden="true">3.4.1.</strong> Visibility and Privacy</a></li><li class="chapter-item expanded "><a href="spec/items/functions.html"><strong aria-hidden="true">3.4.2.</strong> Functions</a></li><li class="chapter-item expanded "><a href="spec/items/structs.html"><strong aria-hidden="true">3.4.3.</strong> Structs</a></li><li class="chapter-item expanded "><a href="spec/items/events.html"><strong aria-hidden="true">3.4.4.</strong> Events</a></li><li class="chapter-item expanded "><a href="spec/items/enum.html"><strong aria-hidden="true">3.4.5.</strong> Enumeration</a></li><li class="chapter-item expanded "><a href="spec/items/type_aliases.html"><strong aria-hidden="true">3.4.6.</strong> Type Aliases</a></li><li class="chapter-item expanded "><a href="spec/items/contracts.html"><strong aria-hidden="true">3.4.7.</strong> Contracts</a></li></ol></li><li class="chapter-item expanded "><a href="spec/statements/index.html"><strong aria-hidden="true">3.5.</strong> Statements</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="spec/statements/pragma.html"><strong aria-hidden="true">3.5.1.</strong> pragma Statement</a></li><li class="chapter-item expanded "><a href="spec/statements/const.html"><strong aria-hidden="true">3.5.2.</strong> const Statement</a></li><li class="chapter-item expanded "><a href="spec/statements/let.html"><strong aria-hidden="true">3.5.3.</strong> let Statement</a></li><li class="chapter-item expanded "><a href="spec/statements/assign.html"><strong aria-hidden="true">3.5.4.</strong> Assignment Statement</a></li><li class="chapter-item expanded "><a href="spec/statements/augassign.html"><strong aria-hidden="true">3.5.5.</strong> Augmenting Assignment Statement</a></li><li class="chapter-item expanded "><a href="spec/statements/revert.html"><strong aria-hidden="true">3.5.6.</strong> revert Statement</a></li><li class="chapter-item expanded "><a href="spec/statements/return.html"><strong aria-hidden="true">3.5.7.</strong> return Statement</a></li><li class="chapter-item expanded "><a href="spec/statements/emit.html"><strong aria-hidden="true">3.5.8.</strong> emit Statement</a></li><li class="chapter-item expanded "><a href="spec/statements/if.html"><strong aria-hidden="true">3.5.9.</strong> if Statement</a></li><li class="chapter-item expanded "><a href="spec/statements/for.html"><strong aria-hidden="true">3.5.10.</strong> for Statement</a></li><li class="chapter-item expanded "><a href="spec/statements/while.html"><strong aria-hidden="true">3.5.11.</strong> while Statement</a></li><li class="chapter-item expanded "><a href="spec/statements/break.html"><strong aria-hidden="true">3.5.12.</strong> break Statement</a></li><li class="chapter-item expanded "><a href="spec/statements/continue.html"><strong aria-hidden="true">3.5.13.</strong> continue Statement</a></li><li class="chapter-item expanded "><a href="spec/statements/assert.html"><strong aria-hidden="true">3.5.14.</strong> assert Statement</a></li><li class="chapter-item expanded "><a href="spec/statements/pass.html"><strong aria-hidden="true">3.5.15.</strong> pass Statement</a></li></ol></li><li class="chapter-item expanded "><a href="spec/expressions/index.html"><strong aria-hidden="true">3.6.</strong> Expressions</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="spec/expressions/call.html"><strong aria-hidden="true">3.6.1.</strong> Call expressions</a></li><li class="chapter-item expanded "><a href="spec/expressions/tuple.html"><strong aria-hidden="true">3.6.2.</strong> Tuple expressions</a></li><li class="chapter-item expanded "><a href="spec/expressions/list.html"><strong aria-hidden="true">3.6.3.</strong> List expressions</a></li><li class="chapter-item expanded "><a href="spec/expressions/struct.html"><strong aria-hidden="true">3.6.4.</strong> Struct expressions</a></li><li class="chapter-item expanded "><a href="spec/expressions/indexing.html"><strong aria-hidden="true">3.6.5.</strong> Index expressions</a></li><li class="chapter-item expanded "><a href="spec/expressions/attribute.html"><strong aria-hidden="true">3.6.6.</strong> Attribute expressions</a></li><li class="chapter-item expanded "><a href="spec/expressions/name.html"><strong aria-hidden="true">3.6.7.</strong> Name expressions</a></li><li class="chapter-item expanded "><a href="spec/expressions/literal.html"><strong aria-hidden="true">3.6.8.</strong> Literal expressions</a></li><li class="chapter-item expanded "><a href="spec/expressions/arithmetic_operators.html"><strong aria-hidden="true">3.6.9.</strong> Arithmetic Operators</a></li><li class="chapter-item expanded "><a href="spec/expressions/comparison_operators.html"><strong aria-hidden="true">3.6.10.</strong> Comparision Operators</a></li><li class="chapter-item expanded "><a href="spec/expressions/boolean_operators.html"><strong aria-hidden="true">3.6.11.</strong> Boolean Operators</a></li><li class="chapter-item expanded "><a href="spec/expressions/unary_operators.html"><strong aria-hidden="true">3.6.12.</strong> Unary Operators</a></li></ol></li><li class="chapter-item expanded "><a href="spec/type_system/index.html"><strong aria-hidden="true">3.7.</strong> Type System</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="spec/type_system/types/index.html"><strong aria-hidden="true">3.7.1.</strong> Types</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="spec/type_system/types/boolean.html"><strong aria-hidden="true">3.7.1.1.</strong> Boolean Type</a></li><li class="chapter-item expanded "><a href="spec/type_system/types/contract.html"><strong aria-hidden="true">3.7.1.2.</strong> Contract Type</a></li><li class="chapter-item expanded "><a href="spec/type_system/types/numeric.html"><strong aria-hidden="true">3.7.1.3.</strong> Numeric Types</a></li><li class="chapter-item expanded "><a href="spec/type_system/types/tuple.html"><strong aria-hidden="true">3.7.1.4.</strong> Tuple Types</a></li><li class="chapter-item expanded "><a href="spec/type_system/types/array.html"><strong aria-hidden="true">3.7.1.5.</strong> Array Types</a></li><li class="chapter-item expanded "><a href="spec/type_system/types/struct.html"><strong aria-hidden="true">3.7.1.6.</strong> Struct Types</a></li><li class="chapter-item expanded "><a href="spec/type_system/types/enum.html"><strong aria-hidden="true">3.7.1.7.</strong> Enumerated Types</a></li><li class="chapter-item expanded "><a href="spec/type_system/types/address.html"><strong aria-hidden="true">3.7.1.8.</strong> Address Type</a></li><li class="chapter-item expanded "><a href="spec/type_system/types/map.html"><strong aria-hidden="true">3.7.1.9.</strong> Map Type</a></li><li class="chapter-item expanded "><a href="spec/type_system/types/string.html"><strong aria-hidden="true">3.7.1.10.</strong> String Type</a></li><li class="chapter-item expanded "><a href="spec/type_system/types/unit.html"><strong aria-hidden="true">3.7.1.11.</strong> Unit Type</a></li><li class="chapter-item expanded "><a href="spec/type_system/types/event.html"><strong aria-hidden="true">3.7.1.12.</strong> Event Types</a></li><li class="chapter-item expanded "><a href="spec/type_system/types/function.html"><strong aria-hidden="true">3.7.1.13.</strong> Function Type</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="spec/data_layout/index.html"><strong aria-hidden="true">3.8.</strong> Data Layout</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="spec/data_layout/stack.html"><strong aria-hidden="true">3.8.1.</strong> Stack</a></li><li class="chapter-item expanded "><a href="spec/data_layout/storage/index.html"><strong aria-hidden="true">3.8.2.</strong> Storage</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="spec/data_layout/storage/constant_size_values_in_storage.html"><strong aria-hidden="true">3.8.2.1.</strong> Constant size values in storage</a></li><li class="chapter-item expanded "><a href="spec/data_layout/storage/maps_in_storage.html"><strong aria-hidden="true">3.8.2.2.</strong> Maps in storage</a></li><li class="chapter-item expanded "><a href="spec/data_layout/storage/to_mem_function.html"><strong aria-hidden="true">3.8.2.3.</strong> to_mem() function</a></li></ol></li><li class="chapter-item expanded "><a href="spec/data_layout/memory/index.html"><strong aria-hidden="true">3.8.3.</strong> Memory</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="spec/data_layout/memory/sequence_types_in_memory.html"><strong aria-hidden="true">3.8.3.1.</strong> Sequence types in memory</a></li><li class="chapter-item expanded "><a href="spec/data_layout/memory/clone_function.html"><strong aria-hidden="true">3.8.3.2.</strong> clone() function</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="spec/function_calls.html"><strong aria-hidden="true">3.9.</strong> Function calls</a></li></ol></li><li class="chapter-item expanded "><a href="release_notes.html"><strong aria-hidden="true">4.</strong> Release Notes</a></li><li class="chapter-item expanded "><a href="code_of_conduct.html"><strong aria-hidden="true">5.</strong> Code of Conduct</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">The Fe Guide</h1>

                    <div class="right-buttons">
                        
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                        

                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="the-fe-guide"><a class="header" href="#the-fe-guide">The Fe Guide</a></h1>
<img alt="Fe logo" src="images/fe.png" height="300"><div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h2 id="quickstart"><a class="header" href="#quickstart">Quickstart</a></h2>
<p>Let's get started with Fe! In this chapter you will learn how to install the Fe compiler and write your first contract.</p>
<ul>
<li><a href="quickstart/installation.html">Installation</a></li>
<li><a href="quickstart/first_contract.html">Writing your first contract</a></li>
<li><a href="quickstart/deploy_contract.html">Deploying a contract to a testnet</a></li>
</ul>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h2 id="installation"><a class="header" href="#installation">Installation</a></h2>
<p>At this point Fe is only available for <strong>Linux</strong> and <strong>MacOS</strong>.</p>
<blockquote>
<p>Note: If you happen to be a Windows developer, consider getting involved
and help us to support the Windows platform. <a href="https://github.com/ethereum/fe/issues/62">Here would be a good place to start.</a></p>
</blockquote>
<h3 id="download-the-compiler"><a class="header" href="#download-the-compiler">Download the compiler</a></h3>
<p>At this point Fe is only distributed via a single executable file linked from the <a href="https://fe-lang.org">home page</a>. In the future we will make sure it can be installed through popular package managers such as <code>apt</code> or <code>homebrew</code>.</p>
<p>Depending on your operating system, the file that you download is either named <code>fe_amd64</code> or <code>fe_mac</code>.</p>
<blockquote>
<p>Note: We will rename the file to <code>fe</code> and assume that name for the rest of the guide. In the future when Fe can be installed via other mechanisms we can assume <code>fe</code> to become the canonical command name.</p>
</blockquote>
<h3 id="add-permission-to-execute"><a class="header" href="#add-permission-to-execute">Add permission to execute</a></h3>
<p>In order to be able to execute the Fe compiler we will have to make the file <em>executable</em>. This can be done by navigating to the directory where the file is located and executing <code>chmod + x &lt;filename&gt;</code> (e.g. <code>chmod +x fe</code>).</p>
<p>After we have set the proper permissions we should be able to run <code>./fe_amd64 --help</code> and an output that should be roughly comparable to:</p>
<pre><code>Fe 0.4.0-alpha
Compiler for the Fe language

USAGE:
    fe_amd64 [FLAGS] [OPTIONS] &lt;input&gt;

FLAGS:
    -h, --help         Prints help information
        --overwrite    Overwrite contents of output directory`
    -V, --version      Prints version information

OPTIONS:
    -e, --emit &lt;emit&gt;                Comma separated compile targets e.g. -e=bytecode,yul [default: abi,bytecode]
                                     [possible values: abi, bytecode, ast, tokens, yul, loweredAst]
        --optimize &lt;optimize&gt;        Whether the Yul optimizer should be used or not e.g. --optimize=false [default: true]
    -o, --output-dir &lt;output-dir&gt;    The directory to store the compiler output e.g /tmp/output [default: output]

ARGS:
    &lt;input&gt;    The input source file to use e.g erc20.fe
</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h2 id="write-your-first-fe-contract"><a class="header" href="#write-your-first-fe-contract">Write your first Fe contract</a></h2>
<p>Now that we have the compiler installed let's write our first contract. A contract contains the code that will be deployed to the Ethereum blockchain and resides at a specific address. </p>
<p>The code of the contract dictates how:</p>
<ul>
<li>it manipulates its own state</li>
<li>interacts with other contracts</li>
<li>exposes external APIs to be called from other contracts or users</li>
</ul>
<p>To keep things simple we will just write a basic <em>guestbook</em> where people can leave a message associated with their Ethereum address.</p>
<blockquote>
<p>Note: Real code would not instrument the Ethereum blockchain in such a way as it is a waste of precious resources. This code is for demo purposes only.</p>
</blockquote>
<h3 id="create-a-guest_bookfe-file"><a class="header" href="#create-a-guest_bookfe-file">Create a <code>guest_book.fe</code> file</a></h3>
<p>Fe code is written in files ending on the <code>.fe</code> file extension. Let's create a file <code>guest_book.fe</code> and put in the following content.</p>
<pre><code class="language-python">contract GuestBook:
</code></pre>
<p>Now, execute <code>./fe guest_book.fe</code> to compile the file.</p>
<p>Oops, the compiler is telling us that it didn't expect our code to end here.</p>
<pre><code>Unable to compile guest_book.fe.
error: unexpected end of file
  ‚îå‚îÄ guest_book.fe:1:20
  ‚îÇ
1 ‚îÇ contract GuestBook:
  ‚îÇ                    ^

</code></pre>
<p>Fe follows Pythonic block indentation rules and the compiler expects us to provide a block of indented code after <code>GuestBook:</code>.</p>
<p>Let's expand the code by providing a <a href="quickstart/../spec/type_system/types/map.html"><code>map</code></a> where we can associate messages with Ethereum addresses. The messages will simply be a <a href="quickstart/../spec/type_system/types/string.html"><code>string</code></a> of a maximum length of <code>100</code> written as <code>string100</code>.
The addresses are represented by the builtin <a href="quickstart/../spec/type_system/types/address.html"><code>address</code></a> type.</p>
<pre><code>contract GuestBook:
  messages: Map&lt;address, String&lt;100&gt;&gt;
</code></pre>
<p>Execute <code>./fe guest_book.fe</code> again to recompile the file.</p>
<p>This time, the compiler tells us that it compiled our contract and that it has put the artifacts into a subdirectory called <code>output</code>.</p>
<pre><code>Compiled guest_book.fe. Outputs in `output`
</code></pre>
<p>If we examine the <code>output</code> directory we'll find a subdirectory <code>GuestBook</code> with a <code>GuestBook_abi.json</code> and a <code>GuestBook.bin</code> file.</p>
<pre><code>‚îú‚îÄ‚îÄ fe
‚îú‚îÄ‚îÄ guest_book.fe
‚îî‚îÄ‚îÄ output
    ‚îî‚îÄ‚îÄ GuestBook
        ‚îú‚îÄ‚îÄ GuestBook_abi.json
        ‚îî‚îÄ‚îÄ GuestBook.bin
</code></pre>
<p>The <code>GuestBook_abi.json</code> is a JSON representation that describes the binary interface of our contract but since our contract doesn't yet expose anything useful its content for now resembles an empty array.</p>
<p>The <code>GuestBook.bin</code> is slightly more interesting containing what looks like a gibberish of characters which in fact is the compiled binary contract code written in <a href="https://en.wikipedia.org/wiki/Hexadecimal">hexadecimal</a> characters.</p>
<p>We don't need to do anything further yet with these files that the compiler produces but they will become important when we get to the point where we want to deploy our code to the Ethereum blockchain.</p>
<h3 id="add-a-method-to-sign-the-guest-book"><a class="header" href="#add-a-method-to-sign-the-guest-book">Add a method to sign the guest book</a></h3>
<p>Let's focus on the functionality of our world changing application and add a method to sign the guestbook.</p>
<pre><code class="language-python">contract GuestBook:
  messages: Map&lt;address, String&lt;100&gt;&gt;

  pub fn sign(self, book_msg: String&lt;100&gt;):
      self.messages[msg.sender] = book_msg
</code></pre>
<p>The code should look familiar to those of us that have written Python before except that in Fe every method that is defined without the <a href="quickstart/../spec/items/visibility_and_privacy.html"><code>pub</code></a> keyword becomes private. Since we want people to interact with our contract and call the <code>sign</code> method we have to prefix it with <code>pub</code>.</p>
<p>Let's recompile the contract again and see what happens.</p>
<pre><code>Failed to write output to directory: `output`. Error: Directory 'output' is not empty. Use --overwrite to overwrite.
</code></pre>
<p>Oops, the compiler is telling us that the <code>output</code> directory is a non-empty directory and plays it safe by asking us if we are sure that we want to overwrite it. We have to use the <code>--overwrite</code> flag to allow the compiler to overwrite it is that is stored in the <code>output</code> directory.</p>
<p>Let's try it again with <code>./fe guest_book.fe --overwrite</code>.</p>
<p>This time it worked and we can also see that the <code>GuestBook_abi.json</code> has become slightly more interesting.</p>
<pre><code class="language-json">[
  {
    &quot;name&quot;: &quot;sign&quot;,
    &quot;type&quot;: &quot;function&quot;,
    &quot;inputs&quot;: [
      {
        &quot;name&quot;: &quot;book_msg&quot;,
        &quot;type&quot;: &quot;bytes100&quot;
      }
    ],
    &quot;outputs&quot;: []
  }
]
</code></pre>
<p>Since our contract now has a public <code>sign</code> method the corresponding ABI has changed accordingly.</p>
<h3 id="add-a-method-to-read-a-message"><a class="header" href="#add-a-method-to-read-a-message">Add a method to read a message</a></h3>
<p>To make the guest book more useful we will also add a method <code>get_msg</code> to read entries from a given address.</p>
<pre><code class="language-python">contract GuestBook:
  messages: Map&lt;address, String&lt;100&gt;&gt;

  pub fn sign(self, book_msg: String&lt;100&gt;):
      self.messages[msg.sender] = book_msg

  pub fn get_msg(self, addr: address) -&gt; String&lt;100&gt;:
      return self.messages[addr]
</code></pre>
<p>However, we will hit another error as we try to recompile the current code.</p>
<pre><code>Unable to compile guest_book.fe.
error: value must be copied to memory
  ‚îå‚îÄ guest_book.fe:8:14
  ‚îÇ
8 ‚îÇ       return self.messages[addr]
  ‚îÇ              ^^^^^^^^^^^^^^^^^^^ this value is in storage
  ‚îÇ
  = Hint: values located in storage can be copied to memory using the `to_mem` function.
  = Example: `self.my_array.to_mem()`
</code></pre>
<p>When we try to return a reference type such as an array from the storage of the contract we have to explicitly copy it to memory using the <a href="quickstart/../spec/data_layout/storage/to_mem_function.html"><code>to_mem()</code></a> function.</p>
<blockquote>
<p>Note: In the future Fe will likely introduce immutable storage pointers which might affect these semantics.</p>
</blockquote>
<p>The code should compile fine when we change it accordingly.</p>
<pre><code class="language-python">contract GuestBook:
  messages: Map&lt;address, String&lt;100&gt;&gt;

  pub fn sign(self, book_msg: String&lt;100&gt;):
      self.messages[msg.sender] = book_msg

  pub fn get_msg(self, addr: address) -&gt; String&lt;100&gt;:
      return self.messages[addr].to_mem()
</code></pre>
<p>Congratulations! You finished your first little Fe project. üëè
In the next chapter we will learn how to deploy our code and tweak it a bit further.</p>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h2 id="deploy-your-contract"><a class="header" href="#deploy-your-contract">Deploy your contract.</a></h2>
<p>Since we have written our first contract now, how about we bring it to live and use it on an actual chain?</p>
<p>Deploying such a demo contract to the Ethereum mainnet would be a waste of money but fortunately we have a few other options to choose from. For instance, we can use our very own local blockchain instance which is great for local development. Alternatively we can use a test network that provides developers shared infrastructure to deploy code without spending actual money on it.</p>
<p>In this guide we will learn how to deploy and interact with our guest book on the popular <a href="https://goerli.net/">G√∂rli testnet</a>.</p>
<h3 id="setting-the-stage-with-dapptools"><a class="header" href="#setting-the-stage-with-dapptools">Setting the stage with dapp.tools</a></h3>
<p>The Ethereum ecosystem provides a rich set of tools to assist smart contract developers in various ways when it comes to developing, testing, deploying and upgrading smart contracts. Fe is still a very young language and there are no tools yet that are tailored for the language. Having said that, most tooling should be flexible enough to work with Fe in some way that might feel slightly less integrated. For this guide we choose to use DappTools which is a very lightweight set of command line tools for managing smart contract development.</p>
<p>To follow this guide, you will first need to head over to <a href="https://dapp.tools">dapp.tools</a> and follow the installation steps.</p>
<blockquote>
<p>Note: If you are a seasoned smart contract developer who uses different tools, feel free to follow the tutorial using your own toolchain.</p>
</blockquote>
<h3 id="setting-up-a-g√∂rli-user-account"><a class="header" href="#setting-up-a-g√∂rli-user-account">Setting up a G√∂rli user account</a></h3>
<p>To deploy our contract to the G√∂rli testnet we will need to have an Ethereum account that has some G√∂ETH. G√∂ETH has no real value but it is still a resource that is needed as a basic line of defense against spamming the testnet. If you don't have any G√∂ETH yet, you can request some from this <a href="https://goerli-faucet.slock.it/">faucet</a></p>
<p>The next thing we need is to create a keystore file for our account so that dapp tools can sign messages via <a href="https://github.com/dapphub/dapptools/tree/master/src/ethsign"><code>ethsign</code></a>.</p>
<blockquote>
<p><strong>IMPORTANT</strong>: It is good practice to <strong>never</strong> use an Ethereum account for a testnet that is also used for the actual Ethereum mainnet.</p>
</blockquote>
<p>To create the keystore file for your testnet account, you can use <code>ethsign</code> to import your private key. Run the following command and follow the instructions.</p>
<pre><code>ethsign import --keystore ~/.ethereum/keystore/
</code></pre>
<h3 id="making-the-deployment-transaction"><a class="header" href="#making-the-deployment-transaction">Making the deployment transaction</a></h3>
<p>Let's recall that we finished our guest book in the previous chapter with the following code.</p>
<pre><code class="language-python">contract GuestBook:
  messages: Map&lt;address, String&lt;100&gt;&gt;

  pub fn sign(self, book_msg: String&lt;100&gt;):
      self.messages[msg.sender] = book_msg

  pub fn get_msg(self, addr: address) -&gt; String&lt;100&gt;:
      return self.messages[addr].to_mem()
</code></pre>
<p>If you haven't already, run <code>./fe guest_book.fe --overwrite</code> to obtain the bytecode that we want to deploy.</p>
<p>To make the deployment, we will need to send a transaction to a node that participates in the G√∂rli network. We can run our own node, sign up at Infura to use one of their nodes or find an open public node such as <code>https://goerli-light.eth.linkpool.io</code> which we will use to keep this tutorial as accessible as possible.</p>
<p>Use the following command to deploy the contract. Please note that <code>&lt;rpc-url&gt;</code> needs to be replaced with the URL of the node that we connect to and <code>&lt;our-eth-address&gt;</code> needs to be replaced with the Ethereum address that we imported in the previous step.</p>
<pre><code>$ ETH_RPC_URL=&lt;rpc-url&gt; ETH_FROM=&lt;our-eth-address&gt; seth send --create output/GuestBook/GuestBook.bin
</code></pre>
<p>What follows is the actual command and the response that was used when writing the tutorial.</p>
<pre><code>$ ETH_RPC_URL=https://goerli-light.eth.linkpool.io ETH_FROM=0x4E14AaF86CF0759d6Ec8C7433acd66F07D093293 seth send --create output/GuestBook/GuestBook.bin
seth-send: warning: `ETH_GAS' not set; using default gas amount
Ethereum account passphrase (not echoed): seth-send: Published transaction with 681 bytes of calldata.
seth-send: 0x241ac045170d0612b67b2319fa08ed8be8b79568e00090c4f84146897b83760b
seth-send: Waiting for transaction receipt...............................
seth-send: Transaction included in block 4858224.
0xcecd2be6d4d01ed7906f502be6321c3721f38bc6
</code></pre>
<p>As we can see in the output, our transaction <a href="https://goerli.etherscan.io/tx/0x241ac045170d0612b67b2319fa08ed8be8b79568e00090c4f84146897b83760b"><code>0x241ac045170d0612b67b2319fa08ed8be8b79568e00090c4f84146897b83760b</code></a> to deploy the contract is now included in the G√∂rli blockchain. At the very end of the response we find <a href="https://goerli.etherscan.io/address/0xcecd2be6d4d01ed7906f502be6321c3721f38bc6"><code>0xcecd2be6d4d01ed7906f502be6321c3721f38bc6</code></a> which is the address where our contract is now deployed.</p>
<h3 id="signing-the-guest-book"><a class="header" href="#signing-the-guest-book">Signing the guest book</a></h3>
<p>Now that the guest book is live on the G√∂rli network, everyone can send a transaction to sign it. We will sign it from the same address that was used to deploy the contract but there is nothing preventing anyone to sign it from any other address.</p>
<p>The following command will send a transaction to call <code>sign(string)</code> with the message <em>&quot;We &lt;3 Fe&quot;</em>.</p>
<pre><code>ETH_RPC_URL=&lt;rpc-url&gt; ETH_FROM=&lt;our-eth-address&gt; seth send &lt;contract-address&gt; &quot;sign(string)&quot; '&quot;We &lt;3 Fe&quot;'
</code></pre>
<p>What follows is again the actual command and the response that was used when writing the tutorial.</p>
<pre><code>$ ETH_RPC_URL=https://goerli-light.eth.linkpool.io ETH_FROM=0x4E14AaF86CF0759d6Ec8C7433acd66F07D093293 seth send 0xcecd2be6d4d01ed7906f502be6321c3721f38bc6 &quot;sign(string)&quot; '&quot;We &lt;3 Fe&quot;'
seth-send: warning: `ETH_GAS' not set; using default gas amount
Ethereum account passphrase (not echoed): seth-send: Published transaction with 100 bytes of calldata.
seth-send: 0xf61c042064a501939769b802d1455124b0f8665eb1b070c75c2815ca52bd8706
seth-send: Waiting for transaction receipt.............
seth-send: Transaction included in block 4858368.
</code></pre>
<p>Just as before, the response tells us the transaction hash <a href="https://goerli.etherscan.io/tx/0xf61c042064a501939769b802d1455124b0f8665eb1b070c75c2815ca52bd8706"><code>0xf61c042064a501939769b802d1455124b0f8665eb1b070c75c2815ca52bd8706</code></a> which we can inspect on Etherscan.</p>
<h3 id="reading-the-signatures"><a class="header" href="#reading-the-signatures">Reading the signatures</a></h3>
<p>The <code>get_msg(address)</code> API let's us read any signature for any address but it will give us an response of 100 zero bytes for any address that simply hasn't signed the guestbook.</p>
<p>Since reading the messages doesn't change any state within the blochchain, we don't have to send and actual transaction. Instead we just perform a <em>call</em> against the local state of the node that we are querying.</p>
<p>To do that run:</p>
<pre><code>$ ETH_RPC_URL=&lt;rpc-url&gt; seth call &lt;contract-address&gt; &quot;get_msg(address)&quot; &lt;address-to-check&gt; | seth --to-ascii
</code></pre>
<p>Notice that the command doesn't need to provide <code>ETH_FROM</code> simply because we are not sending an actual transaction.</p>
<pre><code>$ ETH_RPC_URL=https://goerli-light.eth.linkpool.io seth call 0xcecd2be6d4d01ed7906f502be6321c3721f38bc6 &quot;get_msg(address)&quot; 0x4E14AaF86CF0759d6Ec8C7433acd66F07D093293 | seth --to-ascii
We &lt;3 Fe
</code></pre>
<p>As we can see in the last line of the output the signature for address <code>0x4E14AaF86CF0759d6Ec8C7433acd66F07D093293</code> is in fact <em>We &lt;3 Fe</em>.</p>
<p>Congratulations! You've deployed real Fe code to a live network ü§ñ</p>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h2 id="development"><a class="header" href="#development">Development</a></h2>
<p>Read how to become a Fe developer.</p>
<ul>
<li><a href="development/build.html">Build &amp; Test</a></li>
<li><a href="development/release.html">Release</a></li>
</ul>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h2 id="build-and-test"><a class="header" href="#build-and-test">Build and test</a></h2>
<p>Please make sure Rust is <a href="https://www.rust-lang.org/learn/get-started">installed</a>.</p>
<p><strong>Basic</strong></p>
<p>The following commands only build the Fe -&gt; Yul compiler components.</p>
<ul>
<li>build the CLI: <code>cargo build</code></li>
<li>test: <code>cargo test --workspace</code></li>
</ul>
<p><strong>Full</strong></p>
<p>The Fe compiler depends on the Solidity compiler for transforming Yul IR to EVM bytecode. We currently use <a href="https://github.com/g-r-a-n-t/solc-rust">solc-rust</a> to perform this. In order to compile solc-rust, the following must be installed on your system:</p>
<ul>
<li>cmake</li>
<li>libboost</li>
<li>libclang</li>
</ul>
<p>Once these have been installed, you may run the full build. This is enabled using the <em>solc-backend</em> feature.</p>
<ul>
<li>build the CLI: <code>cargo build --features solc-backend</code></li>
<li>test: <code>cargo test --workspace --features solc-backend</code></li>
</ul>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h2 id="release"><a class="header" href="#release">Release</a></h2>
<h3 id="versioning"><a class="header" href="#versioning">Versioning</a></h3>
<p>Make sure that version follows <a href="https://semver.org/">semver</a> rules e.g (<code>0.2.0-alpha</code>).</p>
<p><strong>For the time being, ALWAYS specify the <code>-alpha</code> suffix.</strong></p>
<h3 id="generate-release-notes"><a class="header" href="#generate-release-notes">Generate Release Notes</a></h3>
<p><strong>Prerequisite</strong>: Release notes are generated with <a href="https://pypi.org/project/towncrier/">towncrier</a>.Ensure to have <code>towncrier</code> installed and the command is available.</p>
<p>Run <code>make notes version=&lt;version&gt;</code> where <code>&lt;version&gt;</code> is the version we are generating the release notes for e.g. <code>0.2.0-alpha</code>.</p>
<p>Example:</p>
<pre><code>make notes version=0.2.0-alpha
</code></pre>
<p>Examine the generated release notes and if needed perform and commit any manual changes.</p>
<h3 id="generate-the-release"><a class="header" href="#generate-the-release">Generate the release</a></h3>
<p>Run <code>make release version=&lt;version&gt;</code>.</p>
<p>Example:</p>
<pre><code>make release version=0.2.0-alpha
</code></pre>
<p>This will also run the tests again as the last step because some of them may need to be adjusted because of the changed version number.</p>
<h3 id="tag-and-push-the-release"><a class="header" href="#tag-and-push-the-release">Tag and push the release</a></h3>
<p><strong>Prerequisite</strong>: Make sure the central repository is configured as <code>upstream</code>, <strong>not</strong> <code>origin</code>.</p>
<p>After the tests were adjusted run <code>make push-tag</code> to create the tag and push it to Github.</p>
<h3 id="manually-edit-the-release-on-github"><a class="header" href="#manually-edit-the-release-on-github">Manually edit the release on GitHub</a></h3>
<p>Running the previous command will push a new tag to Github and cause CI to create a <a href="https://github.com/ethereum/fe/releases">release</a> with the Fe binaries attached. We may want to edit the release afterwards to put in some verbiage about the release.</p>
<h2 id="updating-docs--website"><a class="header" href="#updating-docs--website">Updating Docs &amp; Website</a></h2>
<p>A release of a new Fe compiler should usually go hand in hand with updating the website and documentation. For one, the front page of <a href="https://fe-lang.org">fe-lang.org</a> links to the download of the compiler but won't automatically pick up the latest release without a fresh deployment. Furthermore, if code examples and other docs needed to be updated along with compiler changes, these updates are also only reflected online when the site gets redeployed. This is especially problematic since our docs do currently not have a version switcher to view documentation for different compiler versions (<a href="https://github.com/ethereum/fe/issues/543">See GitHub issue #543</a>).</p>
<h3 id="preview-the-sites-locally"><a class="header" href="#preview-the-sites-locally">Preview the sites locally</a></h3>
<p>Run <code>make serve-website</code> and visit http://0.0.0.0:8000 to preview it locally. Ensure the front page displays the correct compiler version for download and that the docs render correctly.</p>
<h3 id="deploy-website--docs"><a class="header" href="#deploy-website--docs">Deploy website &amp; docs</a></h3>
<p><strong>Prerequisite</strong>: Make sure the central repository is configured as <code>upstream</code>, <strong>not</strong> <code>origin</code>.</p>
<p>Run <code>make deploy-website</code> and validate that <a href="https://fe-lang.org">fe-lang.org</a> renders the updated sites (Can take up to a few minutes).</p>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="fe-language-specification"><a class="header" href="#fe-language-specification">Fe Language Specification</a></h1>
<div class="warning">
  Warning: This is a work in progress document. It is incomplete and specifications aren't stable yet.
</div>
<ul>
<li><a href="spec/notation.html">Notation</a></li>
<li><a href="spec/lexical_structure/index.html">Lexical Structure</a>
<ul>
<li><a href="spec/lexical_structure/keywords.html">Keywords</a></li>
<li><a href="spec/lexical_structure/identifiers.html">Identifiers</a></li>
<li><a href="spec/lexical_structure/tokens.html">Tokens</a></li>
</ul>
</li>
<li><a href="spec/comments.html">Comments</a></li>
<li><a href="spec/items/index.html">Items</a>
<ul>
<li><a href="spec/items/visibility_and_privacy.html">Visibility and Privacy</a></li>
<li><a href="spec/items/functions.html">Functions</a></li>
<li><a href="spec/items/structs.html">Structs</a></li>
<li><a href="spec/items/events.html">Events</a></li>
<li><a href="spec/items/enum.html">Enumeration</a></li>
<li><a href="spec/items/type_aliases.html">Type Aliases</a></li>
<li><a href="spec/items/contracts.html">Contracts</a></li>
</ul>
</li>
<li><a href="spec/statements/index.html">Statements</a>
<ul>
<li><a href="spec/statements/pragma.html"><code>pragma</code> Statement</a></li>
<li><a href="spec/statements/assign.html">Assignment Statement</a></li>
<li><a href="spec/statements/augassign.html">Augmenting Assignment Statement</a></li>
<li><a href="spec/statements/const.html"><code>const</code> Statement</a></li>
<li><a href="spec/statements/let.html"><code>let</code> Statement</a></li>
<li><a href="spec/statements/revert.html"><code>revert</code> Statement</a></li>
<li><a href="spec/statements/return.html"><code>return</code> Statement</a></li>
<li><a href="spec/statements/emit.html"><code>emit</code> Statement</a></li>
<li><a href="spec/statements/if.html"><code>if</code> Statement</a></li>
<li><a href="spec/statements/for.html"><code>for</code> Statement</a></li>
<li><a href="spec/statements/while.html"><code>while</code> Statement</a></li>
<li><a href="spec/statements/break.html"><code>break</code> Statement</a></li>
<li><a href="spec/statements/continue.html"><code>continue</code> Statement</a></li>
<li><a href="spec/statements/assert.html"><code>assert</code> Statement</a></li>
<li><a href="spec/statements/pass.html"><code>pass</code> Statement</a></li>
</ul>
</li>
<li><a href="spec/expressions/index.html">Expressions</a>
<ul>
<li><a href="spec/expressions/call.html">Call expressions</a></li>
<li><a href="spec/expressions/tuple.html">Tuple expressions</a></li>
<li><a href="spec/expressions/list.html">List expressions</a></li>
<li><a href="spec/expressions/index.html">Index expressions</a></li>
<li><a href="spec/expressions/attribute.html">Attribute expressions</a></li>
<li><a href="spec/expressions/name.html">Name expressions</a></li>
<li><a href="spec/expressions/literal.html">Literal expressions</a></li>
<li><a href="spec/expressions/arithmetic_operators.html">Arithmetic Operators</a></li>
<li><a href="spec/expressions/comparison_operators.html">Comparison Operators</a></li>
<li><a href="spec/expressions/boolean_operators.html">Boolean Operators</a></li>
<li><a href="spec/expressions/unary_operators.html">Unary Operators</a></li>
</ul>
</li>
<li><a href="spec/type_system/index.html">Type System</a>
<ul>
<li><a href="spec/type_system/types/index.html">Types</a>
<ul>
<li><a href="spec/type_system/types/boolean.html">Boolean Type</a></li>
<li><a href="spec/type_system/types/contract.html">Contract Type</a></li>
<li><a href="spec/type_system/types/numeric.html">Numeric Types</a></li>
<li><a href="spec/type_system/types/tuple.html">Tuple Types</a></li>
<li><a href="spec/type_system/types/array.html">Array Types</a></li>
<li><a href="spec/type_system/types/struct.html">Struct Types</a></li>
<li><a href="spec/type_system/types/enum.html">Enumerated Types</a></li>
<li><a href="spec/type_system/types/address.html">Address Type</a></li>
<li><a href="spec/type_system/types/map.html">Map Type</a></li>
<li><a href="spec/type_system/types/string.html">String Type</a></li>
<li><a href="spec/type_system/types/event.html">Event Types</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="spec/data_layout/index.html">Data Layout</a>
<ul>
<li><a href="spec/data_layout/stack.html">Stack</a></li>
<li><a href="spec/data_layout/storage/index.html">Storage</a>
<ul>
<li><a href="spec/data_layout/storage/constant_size_values_in_storage.html">Constant size values in storage</a></li>
<li><a href="spec/data_layout/storage/maps_in_storage.html">Maps in storage</a></li>
<li><a href="spec/data_layout/storage/to_mem_function.html"><code>to_mem()</code> function</a></li>
</ul>
</li>
<li><a href="spec/data_layout/memory/index.html">Memory</a>
<ul>
<li><a href="spec/data_layout/memory/sequence_types_in_memory.html">Sequence types in memory</a></li>
<li><a href="spec/data_layout/memory/clone_function.html"><code>clone()</code> function</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="spec/function_calls.html">Function calls</a></li>
</ul>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="notation"><a class="header" href="#notation">Notation</a></h1>
<h2 id="grammar"><a class="header" href="#grammar">Grammar</a></h2>
<p>The following notations are used by the <em>Lexer</em> and <em>Syntax</em> grammar snippets:</p>
<table><thead><tr><th>Notation</th><th>Examples</th><th>Meaning</th></tr></thead><tbody>
<tr><td>CAPITAL</td><td>KW_IF</td><td>A token produced by the lexer</td></tr>
<tr><td><em>ItalicCamelCase</em></td><td><em>Item</em></td><td>A syntactical production</td></tr>
<tr><td><code>string</code></td><td><code>x</code>, <code>while</code>, <code>*</code></td><td>The exact character(s)</td></tr>
<tr><td>\x</td><td>\n, \r, \t, \0</td><td>The character represented by this escape</td></tr>
<tr><td>x<sup>?</sup></td><td><code>pub</code><sup>?</sup></td><td>An optional item</td></tr>
<tr><td>x<sup>*</sup></td><td><em>OuterAttribute</em><sup>*</sup></td><td>0 or more of x</td></tr>
<tr><td>x<sup>+</sup></td><td><em>MacroMatch</em><sup>+</sup></td><td>1 or more of x</td></tr>
<tr><td>x<sup>a..b</sup></td><td>HEX_DIGIT<sup>1..6</sup></td><td>a to b repetitions of x</td></tr>
<tr><td>|</td><td><code>u8</code> | <code>u16</code>, Block | Item</td><td>Either one or another</td></tr>
<tr><td>[ ]</td><td>[<code>b</code> <code>B</code>]</td><td>Any of the characters listed</td></tr>
<tr><td>[ - ]</td><td>[<code>a</code>-<code>z</code>]</td><td>Any of the characters in the range</td></tr>
<tr><td>~[ ]</td><td>~[<code>b</code> <code>B</code>]</td><td>Any characters, except those listed</td></tr>
<tr><td>~<code>string</code></td><td>~<code>\n</code>, ~<code>*/</code></td><td>Any characters, except this sequence</td></tr>
<tr><td>( )</td><td>(<code>,</code> <em>Parameter</em>)</td><td>Groups items</td></tr>
</tbody></table>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="lexical-structure"><a class="header" href="#lexical-structure">Lexical Structure</a></h1>
<ul>
<li><a href="spec/lexical_structure/./keywords.html">Keywords</a></li>
<li><a href="spec/lexical_structure/./identifiers.html">Identifiers</a></li>
<li><a href="spec/lexical_structure/./tokens.html">Tokens</a></li>
</ul>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="keywords"><a class="header" href="#keywords">Keywords</a></h1>
<p>Fe divides keywords into two categories:</p>
<ul>
<li><a href="spec/lexical_structure/keywords.html#strict-keywords">strict</a></li>
<li><a href="spec/lexical_structure/keywords.html#reserved-keywords">reserved</a></li>
</ul>
<h2 id="strict-keywords"><a class="header" href="#strict-keywords">Strict keywords</a></h2>
<p>These keywords can only be used in their correct contexts. They cannot
be used as the <a href="spec/lexical_structure/./identifiers.html">identifies</a>.</p>
<blockquote>
<p><strong>Lexer:</strong><br />
KW_AS             : <code>as</code><br />
KW_BREAK          : <code>break</code><br />
KW_CONST          : <code>const</code><br />
KW_CONTINUE       : <code>continue</code><br />
KW_CONST          : <code>contract</code><br />
KW_FN             : <code>fn</code><br />
KW_ELIF           : <code>elif</code><br />
KW_ELSE           : <code>else</code><br />
KW_EMIT           : <code>emit</code><br />
KW_ENUM           : <code>enum</code><br />
KW_EVENT          : <code>event</code><br />
KW_FALSE          : <code>false</code><br />
KW_FOR            : <code>for</code><br />
KW_IDX             : <code>idx</code><br />
KW_IF             : <code>if</code><br />
KW_IN             : <code>in</code><br />
KW_LET            : <code>let</code><br />
KW_NONPAYABLE     : <code>nonpayable</code><br />
KW_PASS           : <code>pass</code><br />
KW_PAYABLE        : <code>payable</code><br />
KW_PUB            : <code>pub</code><br />
KW_RETURN         : <code>return</code><br />
KW_REVERT         : <code>revert</code><br />
KW_SELFVALUE      : <code>self</code><br />
KW_STRUCT         : <code>struct</code><br />
KW_TRUE           : <code>true</code><br />
KW_WHILE          : <code>while</code> <br />
KW_ADDRESS        : <code>address</code></p>
</blockquote>
<h2 id="reserved-keywords"><a class="header" href="#reserved-keywords">Reserved keywords</a></h2>
<p>These keywords aren't used yet, but they are reserved for future use. They have
the same restrictions as strict keywords. The reasoning behind this is to make
current programs forward compatible with future versions of Fe by forbidding
them to use these keywords.</p>
<blockquote>
<p><strong>Lexer:</strong><br />
KW_ABSTRACT       : <code>abstract</code><br />
KW_ABSTRACT       : <code>async</code><br />
KW_ABSTRACT       : <code>await</code><br />
KW_DO             : <code>do</code><br />
KW_EXTERNAL       : <code>external</code><br />
KW_FINAL          : <code>final</code><br />
KW_IMPL           : <code>impl</code><br />
KW_MACRO          : <code>macro</code><br />
KW_MATCH          : <code>match</code><br />
KW_MUT            : <code>mut</code><br />
KW_OVERRIDE       : <code>override</code><br />
KW_PURE           : <code>pure</code><br />
KW_SELFTYPE       : <code>Self</code><br />
KW_STATIC         : <code>static</code><br />
KW_SUPER          : <code>super</code><br />
KW_TRAIT          : <code>trait</code><br />
KW_TYPE           : <code>type</code><br />
KW_TYPEOF         : <code>typeof</code><br />
KW_USE            : <code>use</code><br />
KW_VIEW           : <code>view</code><br />
KW_VIRTUAL        : <code>virtual</code><br />
KW_WHERE          : <code>where</code><br />
KW_YIELD          : <code>yield</code></p>
</blockquote>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="identifiers"><a class="header" href="#identifiers">Identifiers</a></h1>
<blockquote>
<p><strong><sup>Lexer:<sup></strong><br />
IDENTIFIER_OR_KEYWORD :<br />
¬†¬† ¬†¬† [<code>a</code>-<code>z</code> <code>A</code>-<code>Z</code>]¬†[<code>a</code>-<code>z</code> <code>A</code>-<code>Z</code> <code>0</code>-<code>9</code> <code>_</code>]<sup>*</sup><br />
¬†¬† | <code>_</code> [<code>a</code>-<code>z</code> <code>A</code>-<code>Z</code> <code>0</code>-<code>9</code> <code>_</code>]<sup>+</sup>
<sub><em>Except a <a href="spec/lexical_structure/keywords.html#strict-keywords">strict</a> or <a href="spec/lexical_structure/keywords.html#reserved-keywords">reserved</a> keyword</em></sub></p>
</blockquote>
<p>An identifier is any nonempty ASCII string of the following form:</p>
<p>Either</p>
<ul>
<li>The first character is a letter.</li>
<li>The remaining characters are alphanumeric or <code>_</code>.</li>
</ul>
<p>Or</p>
<ul>
<li>The first character is <code>_</code>.</li>
<li>The identifier is more than one character. <code>_</code> alone is not an identifier.</li>
<li>The remaining characters are alphanumeric or <code>_</code>.</li>
</ul>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="tokens"><a class="header" href="#tokens">Tokens</a></h1>
<h2 id="significant-whitespace"><a class="header" href="#significant-whitespace">Significant whitespace</a></h2>
<p>In Fe whitespace is not just used to guide the human eye but it also carries meaning. The rules are essentially <a href="https://docs.python.org/2.0/ref/indentation.html">borrowed from Python</a>.</p>
<h3 id="newline"><a class="header" href="#newline"><code>NEWLINE</code></a></h3>
<p>A token that represents a new line.</p>
<h3 id="indent"><a class="header" href="#indent"><code>INDENT</code></a></h3>
<p>A token that represents adding one level of indentation.</p>
<h3 id="dedent"><a class="header" href="#dedent"><code>DEDENT</code></a></h3>
<p>A token that represents removing one level of indentation</p>
<h2 id="literals"><a class="header" href="#literals">Literals</a></h2>
<p>A literal is an expression consisting of a single token, rather than a sequence
of tokens, that immediately and directly denotes the value it evaluates to,
rather than referring to it by name or some other evaluation rule. A literal is
a form of constant expression, so is evaluated (primarily) at compile time.</p>
<h3 id="examples"><a class="header" href="#examples">Examples</a></h3>
<h4 id="strings"><a class="header" href="#strings">Strings</a></h4>
<table><thead><tr><th></th><th>Example</th><th>Characters</th><th>Escapes</th></tr></thead><tbody>
<tr><td><a href="spec/lexical_structure/tokens.html#string-literals">String</a></td><td><code>&quot;hello&quot;</code></td><td>ASCII subset</td><td><a href="spec/lexical_structure/tokens.html#quote-escapes">Quote</a> &amp; <a href="spec/lexical_structure/tokens.html#ascii-escapes">ASCII</a></td></tr>
</tbody></table>
<h4 id="ascii-escapes"><a class="header" href="#ascii-escapes">ASCII escapes</a></h4>
<table><thead><tr><th></th><th>Name</th></tr></thead><tbody>
<tr><td><code>\n</code></td><td>Newline</td></tr>
<tr><td><code>\r</code></td><td>Carriage return</td></tr>
<tr><td><code>\t</code></td><td>Tab</td></tr>
<tr><td><code>\\</code></td><td>Backslash</td></tr>
</tbody></table>
<h4 id="quote-escapes"><a class="header" href="#quote-escapes">Quote escapes</a></h4>
<table><thead><tr><th></th><th>Name</th></tr></thead><tbody>
<tr><td><code>\&quot;</code></td><td>Double quote</td></tr>
</tbody></table>
<h4 id="numbers"><a class="header" href="#numbers">Numbers</a></h4>
<table><thead><tr><th><a href="spec/lexical_structure/tokens.html#number-literals">Number literals</a><code>*</code></th><th>Example</th></tr></thead><tbody>
<tr><td>Decimal integer</td><td><code>98_222</code></td></tr>
<tr><td>Hex integer</td><td><code>0xff</code></td></tr>
<tr><td>Octal integer</td><td><code>0o77</code></td></tr>
<tr><td>Binary integer</td><td><code>0b1111_0000</code></td></tr>
</tbody></table>
<p><code>*</code> All number literals allow <code>_</code> as a visual separator: <code>1_234</code></p>
<h3 id="string-literals"><a class="header" href="#string-literals">String literals</a></h3>
<blockquote>
<p><strong><sup>Lexer</sup></strong><br />
STRING_LITERAL :<br />
¬†¬† <code>&quot;</code> (<br />
¬†¬† ¬†¬† PRINTABLE_ASCII_CHAR<br />
¬†¬† ¬†¬† | QUOTE_ESCAPE<br />
¬†¬† ¬†¬† | ASCII_ESCAPE<br />
¬†¬† )<sup>*</sup> <code>&quot;</code></p>
<p>PRINTABLE_ASCII_CHAR :<br />
¬†¬† Any ASCII character between <code>0x1F</code> and <code>0x7E</code></p>
<p>QUOTE_ESCAPE :<br />
¬†¬† <code>\&quot;</code></p>
<p>ASCII_ESCAPE :<br />
¬†¬† | <code>\n</code> | <code>\r</code> | <code>\t</code> | <code>\\</code></p>
</blockquote>
<p>A <em>string literal</em> is a sequence of any characters that are in the set of
printable ASCII characters as well as a set of defined escape sequences.</p>
<p>Line breaks are allowed in string literals.</p>
<h3 id="integer-literals"><a class="header" href="#integer-literals">Integer literals</a></h3>
<blockquote>
<p><strong><sup>Lexer</sup></strong><br />
INTEGER_LITERAL :<br />
¬†¬† ( DEC_LITERAL | BIN_LITERAL | OCT_LITERAL | HEX_LITERAL )</p>
<p>DEC_LITERAL :<br />
¬†¬† DEC_DIGIT (DEC_DIGIT|<code>_</code>)<sup>*</sup></p>
<p>BIN_LITERAL :<br />
¬†¬† <code>0b</code> (BIN_DIGIT|<code>_</code>)<sup>*</sup> BIN_DIGIT (BIN_DIGIT|<code>_</code>)<sup>*</sup></p>
<p>OCT_LITERAL :<br />
¬†¬† <code>0o</code> (OCT_DIGIT|<code>_</code>)<sup>*</sup> OCT_DIGIT (OCT_DIGIT|<code>_</code>)<sup>*</sup></p>
<p>HEX_LITERAL :<br />
¬†¬† <code>0x</code> (HEX_DIGIT|<code>_</code>)<sup>*</sup> HEX_DIGIT (HEX_DIGIT|<code>_</code>)<sup>*</sup></p>
<p>BIN_DIGIT : [<code>0</code>-<code>1</code>]</p>
<p>OCT_DIGIT : [<code>0</code>-<code>7</code>]</p>
<p>DEC_DIGIT : [<code>0</code>-<code>9</code>]</p>
<p>HEX_DIGIT : [<code>0</code>-<code>9</code> <code>a</code>-<code>f</code> <code>A</code>-<code>F</code>]</p>
</blockquote>
<p>An <em>integer literal</em> has one of four forms:</p>
<ul>
<li>A <em>decimal literal</em> starts with a <em>decimal digit</em> and continues with any
mixture of <em>decimal digits</em> and <em>underscores</em>.</li>
<li>A <em>hex literal</em> starts with the character sequence <code>U+0030</code> <code>U+0078</code>
(<code>0x</code>) and continues as any mixture (with at least one digit) of hex digits
and underscores.</li>
<li>An <em>octal literal</em> starts with the character sequence <code>U+0030</code> <code>U+006F</code>
(<code>0o</code>) and continues as any mixture (with at least one digit) of octal digits
and underscores.</li>
<li>A <em>binary literal</em> starts with the character sequence <code>U+0030</code> <code>U+0062</code>
(<code>0b</code>) and continues as any mixture (with at least one digit) of binary digits
and underscores.</li>
</ul>
<p>Examples of integer literals of various forms:</p>
<pre><code class="language-python">123;                               // type u256
0xff;                              // type u256
0o70;                              // type u256
0b1111_1111_1001_0000;             // type u256
0b1111_1111_1001_0000i64;          // type u256
</code></pre>
<p>Note that the Fe syntax considers <code>-1</code> as an application of the <a href="spec/lexical_structure/../expressions/unary_operators.html">unary minus
operator</a> to an integer literal <code>1</code>, rather than a single integer literal.</p>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="comments"><a class="header" href="#comments">Comments</a></h1>
<blockquote>
<p><strong><sup>Lexer</sup></strong><br />
LINE_COMMENT :<br />
¬†¬† ¬†¬† <code>#</code> <sup>*</sup></p>
</blockquote>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="items"><a class="header" href="#items">Items</a></h1>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="visibility-and-privacy"><a class="header" href="#visibility-and-privacy">Visibility and Privacy</a></h1>
<p>These two terms are often used interchangeably, and what they are attempting to convey is the answer to the question &quot;Can this item be used at this location?&quot;</p>
<p>Fe knows two different types of visibility for functions and state variables: <code>public</code> and <code>private</code>. Visibility of <code>private</code> is the default and is used if no other visibility is specified.</p>
<p><strong>Public:</strong> External functions are part of the contract interface, which means they can be called from other contracts and via transactions.</p>
<p><strong>Private:</strong> Those functions and state variables can only be accessed internally from within the same contract. This is the default visibility.</p>
<p>For example, this is a function that can be called externally from a transaction:</p>
<pre><code class="language-python">pub fn answer_to_life_the_universe_and_everything() -&gt; u256:
    return 42
</code></pre>
<p>Top-level definitions in a Fe source file can also be specified as <code>pub</code> if the file exists within the context of an Ingot. Declaring a definition as <code>pub</code> enables other modules within an Ingot to <code>use</code> the definition.</p>
<p>For example, given an Ingot with the following structure:</p>
<pre><code>example_ingot
‚îî‚îÄ‚îÄ src
    ‚îú‚îÄ‚îÄ ding
    ‚îÇ   ‚îî‚îÄ‚îÄ dong.fe
    ‚îî‚îÄ‚îÄ main.fe
</code></pre>
<p>With <code>ding/dong.fe</code> having the following contents:</p>
<pre><code class="language-python">pub struct Dyng:
  my_address: address
  my_u256: u256
  my_i8: i8
</code></pre>
<p>Then <code>main.fe</code> can use the <code>Dyng</code> struct since it is <code>pub</code>-qualified:</p>
<pre><code class="language-python">use ding::{dong::Dyng}

contract Foo:
 pub fn get_my_dyng() -&gt; Dyng:
        return Dyng(
            my_address=address(8),
            my_u256=42,
            my_i8=-1
        )
</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="functions"><a class="header" href="#functions">Functions</a></h1>
<blockquote>
<p><strong><sup>Syntax</sup></strong><br />
<em>Function</em> :<br />
¬†¬† <em>FunctionQualifiers</em> <code>fn</code> <a href="spec/items/../lexical_structure/identifiers.html">IDENTIFIER</a><br />
¬†¬† ¬†¬† <code>(</code> <em>FunctionParameters</em><sup>?</sup> <code>)</code><br />
¬†¬† ¬†¬† <em>FunctionReturnType</em><sup>?</sup><br />
¬†¬† ¬†¬† <code>:</code> <a href="spec/items/../lexical_structure/tokens.html#newline">NEWLINE</a><br />
¬†¬† ¬†¬† <a href="spec/items/../lexical_structure/tokens.html#indent">INDENT</a><br />
¬†¬† ¬†¬† <em>FunctionStatements</em><sup>*</sup><br />
¬†¬† ¬†¬† <a href="spec/items/../lexical_structure/tokens.html#dedent">DEDENT</a></p>
<p><em>FunctionQualifiers</em> :<br />
¬†¬† <code>pub</code><sup>?</sup></p>
<p><em>FunctionStatements</em> :<br />
¬†¬† ¬†¬† ¬†¬†  <a href="spec/items/../statements/return.html"><em>ReturnStatement</em></a><br />
¬†¬† ¬†¬† | <a href="spec/items/../statements/let.html"><em>VariableDeclarationStatement</em></a><br />
¬†¬† ¬†¬† | <a href="spec/items/../statements/assign.html"><em>AssignStatement</em></a><br />
¬†¬† ¬†¬† | <a href="spec/items/../statements/augassign.html"><em>AugmentedAssignStatement</em></a><br />
¬†¬† ¬†¬† | <a href="spec/items/../statements/for.html"><em>ForStatement</em></a><br />
¬†¬† ¬†¬† | <a href="spec/items/../statements/for.html"><em>WhileStatement</em></a><br />
¬†¬† ¬†¬† | <a href="spec/items/../statements/if.html"><em>IfStatement</em></a><br />
¬†¬† ¬†¬† | <a href="spec/items/../statements/assert.html"><em>AssertStatement</em></a><br />
¬†¬† ¬†¬† | <a href="spec/items/../statements/emit.html"><em>EmitStatement</em></a><br />
¬†¬† ¬†¬† | <a href="spec/items/../statements/pass.html"><em>PassStatement</em></a><br />
¬†¬† ¬†¬† | <a href="spec/items/../statements/break.html"><em>BreakStatement</em></a><br />
¬†¬† ¬†¬† | <a href="spec/items/../statements/continue.html"><em>ContinueStatement</em></a><br />
¬†¬† ¬†¬† | <a href="spec/items/../statements/revert.html"><em>RevertStatement</em></a><br />
¬†¬† ¬†¬† | <a href="spec/items/../expressions/index.html"><em>Expression</em></a></p>
<p><em>FunctionParameters</em> :<br />
¬†¬†  <code>self</code><sup>?</sup> | <code>self,</code><sup>?</sup>   <em>FunctionParam</em> (<code>,</code> <em>FunctionParam</em>)<sup>*</sup> <code>,</code><sup>?</sup></p>
<p><em>FunctionParam</em> :<br />
¬†¬† <a href="spec/items/../lexical_structure/identifiers.html">IDENTIFIER</a> <code>:</code> <a href="spec/items/../type_system/types/index.html"><em>Types</em></a></p>
<p><em>FunctionReturnType</em> :<br />
¬†¬† <code>-&gt;</code> <a href="spec/items/../type_system/types/index.html"><em>Types</em></a></p>
</blockquote>
<p>A <em>function</em> definition consists of name and code block along with an optional
list of parameters and return value. Functions are declared with the
keyword <code>fn</code>. Functions may declare a set of <em>input</em> arguments,
through which the caller passes arguments into the function, and
the <em>output</em> <a href="spec/items/../type_system/types/index.html"><em>type</em></a> of the value the function will return to its caller
on completion.</p>
<p>When referred to, a <em>function</em> yields a first-class <em>value</em> of the
corresponding zero-sized <a href="spec/items/../type_system/types/function.html"><em>function type</em></a>, which
when called evaluates to a direct call to the function.</p>
<p>A function header ends with a colon (<code>:</code>) after which the function body begins.</p>
<p>For example, this is a simple function:</p>
<pre><code class="language-python">fn answer_to_life_the_universe_and_everything() -&gt; u256:
    return 42
</code></pre>
<p>A function may accept <code>self</code> as a parameter. This gives the function the ability 
to read and mutate contract storage.</p>
<p>Example:</p>
<pre><code class="language-python">contract Foo:
    my_stored_num: u256

    pub fn my_pure_func():
        pass
        
    pub fn my_self_func(self):
        self.my_stored_num = 26
</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="structs"><a class="header" href="#structs">Structs</a></h1>
<blockquote>
<p><strong><sup>Syntax</sup></strong><br />
<em>Struct</em> :<br />
¬†¬† <code>struct</code> <a href="spec/items/../lexical_structure/identifiers.html">IDENTIFIER</a> <code>:</code> <a href="spec/items/../lexical_structure/tokens.html#newline">NEWLINE</a><br />
¬†¬† <a href="spec/items/../lexical_structure/tokens.html#indent">INDENT</a><br />
¬†¬† <em>StructField</em><sup>*</sup><br />
¬†¬† <a href="spec/items/../lexical_structure/tokens.html#dedent">DEDENT</a></p>
<p><em>StructField</em> :<br />
¬†¬† <a href="spec/items/../lexical_structure/identifiers.html">IDENTIFIER</a> <code>:</code> <a href="spec/items/../type_system/types/index.html"><em>Type</em></a></p>
</blockquote>
<p>A <em>struct</em> is a nominal <a href="spec/items/../type_system/types/struct.html">struct type</a> defined with the keyword <code>struct</code>.</p>
<p>An example of a <code>struct</code> item and its use:</p>
<pre><code>struct Point:
    x: u256
    y: u256

p = Point(x: 10, y: 11)
px: u256 = p.x;
</code></pre>
<p>Builtin functions:</p>
<ul>
<li><code>abi_encode()</code> encodes the struct as an ABI tuple and returns the encoded data as a fixed-size byte array that is equal in size to the encoding.</li>
</ul>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="events"><a class="header" href="#events">Events</a></h1>
<blockquote>
<p><strong><sup>Syntax</sup></strong><br />
<em>Event</em> :<br />
¬†¬† <code>event</code> <a href="spec/items/../lexical_structure/identifiers.html">IDENTIFIER</a> <code>:</code> <a href="spec/items/../lexical_structure/tokens.html#newline">NEWLINE</a><br />
¬†¬† <a href="spec/items/../lexical_structure/tokens.html#indent">INDENT</a><br />
¬†¬† <em>EventField</em><sup>*</sup><br />
¬†¬† <a href="spec/items/../lexical_structure/tokens.html#dedent">DEDENT</a></p>
<p><em>EventField</em> :<br />
¬†¬† <em>EventIndexability</em> <a href="spec/items/../lexical_structure/identifiers.html">IDENTIFIER</a> <code>:</code> <a href="spec/items/../type_system/types/index.html"><em>Type</em></a></p>
<p><em>EventIndexability</em> :<br />
¬†¬† <code>idx</code><sup>?</sup></p>
</blockquote>
<p>An <em>event</em> is a nominal <a href="spec/items/../type_system/types/event.html">event type</a> defined with the keyword <code>event</code>. It is emitted with the keyword <code>emit</code>.</p>
<p>An example of a <code>event</code> item and its use:</p>
<pre><code class="language-python">contract Foo:
    event Transfer:
        idx sender: address
        idx receiver: address
        value: u256

    fn transfer(to : address, value : u256):
        # Heavy logic here
        # All done, log the event for listeners
        emit Transfer(sender: msg.sender, receiver: to, value)
</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="enum"><a class="header" href="#enum">Enum</a></h1>
<blockquote>
<p><strong><sup>Syntax</sup></strong><br />
<em>Enumeration</em> :<br />
¬†¬† <code>enum</code> <a href="spec/items/../lexical_structure/identifiers.html">IDENTIFIER</a> <code>:</code> <a href="spec/items/../lexical_structure/tokens.html#newline">NEWLINE</a><br />
¬†¬† <a href="spec/items/../lexical_structure/tokens.html#indent">INDENT</a><br />
¬†¬† <em>EnumField</em><sup>*</sup><br />
¬†¬† <a href="spec/items/../lexical_structure/tokens.html#dedent">DEDENT</a></p>
<p><em>EnumField</em> :<br />
¬†¬† <a href="spec/items/../lexical_structure/identifiers.html">IDENTIFIER</a><code>,</code></p>
</blockquote>
<p>An <em>enumeration</em>, also referred to as <em>enum</em> is a simultaneous definition of a
nominal <a href="spec/items/../type_system/types/enum.html">enumerated type</a>, that can be used to create or pattern-match values of the corresponding enumerated type.</p>
<p>Enumerations are declared with the keyword <code>enum</code>.</p>
<p>An example of an <code>enum</code> item and its use:</p>
<pre><code>enum Animal:
    Dog,
    Cat,

barker = Animal.Dog
</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="type-aliases"><a class="header" href="#type-aliases">Type aliases</a></h1>
<blockquote>
<p><strong><sup>Syntax</sup></strong><br />
<em>TypeAlias</em> :<br />
¬†¬† <code>type</code> <a href="spec/items/../lexical_structure/identifiers.html">IDENTIFIER</a>¬†<code>=</code> <a href="spec/items/../type_system/types/index.html"><em>Type</em></a></p>
</blockquote>
<p>A <em>type alias</em> defines a new name for an existing <a href="spec/items/../type_system/types/index.html">type</a>. Type aliases are
declared with the keyword <code>type</code>.</p>
<p>For example, the following defines the type <code>BookMsg</code> as a synonym for the type
<code>u8[100]</code>, a sequence of <code>100</code> <code>u8</code> numbers which is how sequences of bytes are represented in Fe.</p>
<pre><code>type BookMsg = Array&lt;u8, 100&gt;
</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="contracts"><a class="header" href="#contracts">Contracts</a></h1>
<blockquote>
<p><strong><sup>Syntax</sup></strong><br />
<em>Contract</em> :<br />
¬†¬† <code>contract</code> <a href="spec/items/../lexical_structure/identifiers.html">IDENTIFIER</a> <code>:</code> <a href="spec/items/../lexical_structure/tokens.html#newline">NEWLINE</a><br />
¬†¬† <a href="spec/items/../lexical_structure/tokens.html#indent">INDENT</a><br />
¬†¬† <em>ContractMember</em><sup>*</sup><br />
¬†¬† <a href="spec/items/../lexical_structure/tokens.html#dedent">DEDENT</a></p>
<p><em>ContractMember</em>:<br />
¬†¬† <a href="spec/items/./visibility_and_privacy.html"><em>Visibility</em></a><sup>?</sup><br />
¬†¬† (<br />
¬†¬† ¬†¬† ¬†¬†  <em>ContractField</em><br />
¬†¬† ¬†¬† | <a href="spec/items/../type_system/types/function.html"><em>Function</em></a><br />
¬†¬† ¬†¬† | <a href="spec/items/./structs.html"><em>Struct</em></a><br />
¬†¬† ¬†¬† | <a href="spec/items/./events.html"><em>Event</em></a><br />
¬†¬† ¬†¬† | <a href="spec/items/enum.html"><em>Enumeration</em></a><br />
¬†¬† )</p>
<p><em>Visibility</em> :<br />
¬†¬† <code>pub</code><sup>?</sup></p>
<p><em>ContractField</em> :<br />
¬†¬† <a href="spec/items/../lexical_structure/identifiers.html">IDENTIFIER</a> <code>:</code> <a href="spec/items/../type_system/types/index.html"><em>Type</em></a></p>
</blockquote>
<p>A <em>contract</em> is a piece of EVM Code associated with an Account. See <em>Appendix A.</em> in the <a href="https://ethereum.github.io/yellowpaper/paper.pdf">Yellow Paper</a> for more info. In Fe, a contract is denoted using the <code>contract</code> keyword. A contract definition adds a new contract type to the module. This <a href="spec/items/../type_system/types/contract.html">contract type</a> may be used for calling existing contracts with the same interface or initializing new contracts with the create methods.</p>
<p>An example of a <code>contract</code>:</p>
<pre><code class="language-python">contract GuestBook:
    messages: Map&lt;address, String&lt;100&gt;&gt;

    event Signed:
        book_msg: String&lt;100&gt;

    pub fn sign(self, book_msg: String&lt;100&gt;):
        self.messages[msg.sender] = book_msg
        emit Signed(book_msg: book_msg)

    pub fn get_msg(self, addr: address) -&gt; String&lt;100&gt;:
        return self.messages[addr].to_mem()
</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="statements"><a class="header" href="#statements">Statements</a></h1>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="pragma-statement"><a class="header" href="#pragma-statement"><code>pragma</code> statement</a></h1>
<blockquote>
<p><strong><sup>Syntax</sup></strong><br />
<em>PragmaStatement</em> :<br />
¬†¬† <code>pragma</code> <em>VersionRequirement</em></p>
<p><em>VersionRequirement</em> :<sub>Following the semver implementation by <a href="https://doc.rust-lang.org/cargo/reference/specifying-dependencies.html">cargo</a> </sub></p>
</blockquote>
<p>The pragma statement is denoted with the keyword <code>pragma</code>. Evaluating a <code>pragma</code>
statement will cause the compiler to reject compilation if the version of the compiler does not conform to the given version requirement.</p>
<p>An example of a <code>pragma</code> statement:</p>
<pre><code>pragma ^0.1.0
</code></pre>
<p>The version requirement syntax is identical to the one that is used by cargo (<a href="https://doc.rust-lang.org/cargo/reference/specifying-dependencies.html">more info</a>).</p>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="const-statement"><a class="header" href="#const-statement"><code>const</code> statement</a></h1>
<blockquote>
<p><strong><sup>Syntax</sup></strong><br />
<em>ConstStatement</em> :<br />
¬†¬† <code>const</code> <a href="spec/statements/../lexical_structure/identifiers.html">IDENTIFIER</a><code>:</code> <a href="spec/statements/../type_system/types/index.html"><em>Type</em></a> <code>=</code> <a href="spec/statements/../expressions/index.html"><em>Expression</em></a></p>
</blockquote>
<p>A <code>const</code> statement introduces a named constant value. Constants are either directly inlined wherever they are used or loaded from the contract code depending on their type.</p>
<blockquote>
<p>Note: Constants do only support literals at this point</p>
</blockquote>
<p>Example:</p>
<pre><code class="language-python">
const TEN: u256 = 10

contract Foo:

  pub fn bar() -&gt; u256:
    return TEN * 5
</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="let-statement"><a class="header" href="#let-statement"><code>let</code> statement</a></h1>
<blockquote>
<p><strong><sup>Syntax</sup></strong><br />
<em>LetStatement</em> :<br />
¬†¬† <code>let</code> <a href="spec/statements/../lexical_structure/identifiers.html">IDENTIFIER</a> | <em>TupleTarget</em> <code>:</code> <a href="spec/statements/../type_system/types/index.html"><em>Type</em></a> <code>=</code> <a href="spec/statements/../expressions/index.html"><em>Expression</em></a></p>
<p><em>TupleTarget</em> :<br />
¬†¬† <code>(</code> <em>TupleTargetItem</em> (<code>,</code> <em>TupleTargetItem</em>) <sup>+</sup> <code>)</code></p>
<p><em>TupleTargetItem</em> :<br />
¬†¬† <a href="spec/statements/../lexical_structure/identifiers.html">IDENTIFIER</a> | <em>TupleTarget</em></p>
</blockquote>
<p>A <code>let</code> statement introduces a new set of variables. Any variables introduced by a variable declaration are visible from the point of declaration until the end of the enclosing block scope.</p>
<blockquote>
<p>Note: Support for nested tuples isn't yet implemented but can be tracked via this <a href="https://github.com/ethereum/fe/issues/427">GitHub issue</a>.</p>
</blockquote>
<p>Example:</p>
<pre><code class="language-python">contract Foo:

  pub fn bar():
    let val1: u256 = 1
    let (val2):(u256) = (1,)
    let (val3, val4):(u256, bool) = (1, false)
    let (val5, val6, (val7, val8)):(u256, bool, (u256, u256)) = (1, false, (2, 4))
</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="assignment-statement"><a class="header" href="#assignment-statement">Assignment statement</a></h1>
<blockquote>
<p><strong><sup>Syntax</sup></strong><br />
<em>AssignmentStatement</em> :<br />
¬†¬† <a href="spec/statements/../expressions/index.html"><em>Expression</em></a> <code>=</code> <a href="spec/statements/../expressions/index.html"><em>Expression</em></a></p>
</blockquote>
<p>An assignment statement moves a value into a specified place. An assignment statement consists of an expression that holds a mutable place, followed by an equals sign (=) and a value expression.</p>
<p>Example:</p>
<pre><code class="language-python">contract Foo:
  some_array: Array&lt;u256, 10&gt;

  pub fn bar(self):
    let val1: u256 = 10
    # Assignment of stack variable
    val1 = 10

    let values: (u256, u256) = (1, 2)
    # Assignment of tuple item
    values.item0 = 3

    # Assignment of storage array slot
    self.some_array[5] = 1000
</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="augmenting-assignment-statement"><a class="header" href="#augmenting-assignment-statement">Augmenting Assignment statement</a></h1>
<blockquote>
<p><strong><sup>Syntax</sup></strong><br />
<em>AssignmentStatement</em> :<br />
¬†¬† ¬†¬† <a href="spec/statements/../expressions/index.html"><em>Expression</em></a> <code>=</code> <a href="spec/statements/../expressions/index.html"><em>Expression</em></a><br />
¬†¬† | <a href="spec/statements/../expressions/index.html"><em>Expression</em></a> <code>+=</code> <a href="spec/statements/../expressions/index.html"><em>Expression</em></a><br />
¬†¬† | <a href="spec/statements/../expressions/index.html"><em>Expression</em></a> <code>-=</code> <a href="spec/statements/../expressions/index.html"><em>Expression</em></a><br />
¬†¬† | <a href="spec/statements/../expressions/index.html"><em>Expression</em></a> <code>%=</code> <a href="spec/statements/../expressions/index.html"><em>Expression</em></a><br />
¬†¬† | <a href="spec/statements/../expressions/index.html"><em>Expression</em></a> <code>**=</code> <a href="spec/statements/../expressions/index.html"><em>Expression</em></a><br />
¬†¬† | <a href="spec/statements/../expressions/index.html"><em>Expression</em></a> <code>&lt;&lt;=</code> <a href="spec/statements/../expressions/index.html"><em>Expression</em></a><br />
¬†¬† | <a href="spec/statements/../expressions/index.html"><em>Expression</em></a> <code>&gt;&gt;=</code> <a href="spec/statements/../expressions/index.html"><em>Expression</em></a><br />
¬†¬† | <a href="spec/statements/../expressions/index.html"><em>Expression</em></a> <code>|=</code> <a href="spec/statements/../expressions/index.html"><em>Expression</em></a><br />
¬†¬† | <a href="spec/statements/../expressions/index.html"><em>Expression</em></a> <code>^=</code> <a href="spec/statements/../expressions/index.html"><em>Expression</em></a><br />
¬†¬† | <a href="spec/statements/../expressions/index.html"><em>Expression</em></a> <code>&amp;=</code> <a href="spec/statements/../expressions/index.html"><em>Expression</em></a></p>
</blockquote>
<p><em>Augmenting assignment statements</em> combine arithmetic and logical binary operators with assignment statements.</p>
<p>An augmenting assignment statement consists of an expression that holds a mutable place, followed by one of the arithmetic or logical binary operators, followed by an equals sign (=) and a value expression.</p>
<p>Example:</p>
<pre><code class="language-python">contract Foo:

    pub fn add(a: u256, b: u256) -&gt; u256:
        a += b
        return a

    pub fn sub(a: u256, b: u256) -&gt; u256:
        a -= b
        return a

    pub fn mul(a: u256, b: u256) -&gt; u256:
        a *= b
        return a

    pub fn div(a: u256, b: u256) -&gt; u256:
        a /= b
        return a

    pub fn mod(a: u256, b: u256) -&gt; u256:
        a %= b
        return a

    pub fn pow(a: u256, b: u256) -&gt; u256:
        a **= b
        return a

    pub fn lshift(a: u8, b: u8) -&gt; u8:
        a &lt;&lt;= b
        return a

    pub fn rshift(a: u8, b: u8) -&gt; u8:
        a &gt;&gt;= b
        return a

    pub fn bit_or(a: u8, b: u8) -&gt; u8:
        a |= b
        return a

    pub fn bit_xor(a: u8, b: u8) -&gt; u8:
        a ^= b
        return a

    pub fn bit_and(a: u8, b: u8) -&gt; u8:
        a &amp;= b
        return a
</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="revert-statement"><a class="header" href="#revert-statement"><code>revert</code> statement</a></h1>
<blockquote>
<p><strong><sup>Syntax</sup></strong><br />
<em>RevertStatement</em> :<br />
¬†¬† <code>revert</code> <a href="spec/statements/../expressions/index.html"><em>Expression</em></a><sup>?</sup></p>
</blockquote>
<p>The revert statement is denoted with the keyword <code>revert</code>. Evaluating a <code>revert</code>
statement will cause to revert all state changes made by the call and return with an revert error to the caller. A revert statement may be followed by an expression that evaluates to a <a href="spec/statements/../items/structs.html">struct</a> in which case the struct is encoded as revert data as defined by <a href="https://github.com/ethereum/EIPs/issues/838">EIP-838</a>.</p>
<p>An example of a <code>revert</code> statement without revert data:</p>
<pre><code>contract Foo:
    fn transfer(self, to : address, value : u256):
        if not self.in_whitelist(to):
            revert
        # more logic here
</code></pre>
<p>An example of a <code>revert</code> statement with revert data:</p>
<pre><code>contract Foo:
    fn transfer(self, to : address, value : u256):
        if not self.in_whitelist(to):
            revert ApplicationError(code=5)
        # more logic here
</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="return-statement"><a class="header" href="#return-statement"><code>return</code> statement</a></h1>
<blockquote>
<p><strong><sup>Syntax</sup></strong><br />
<em>ReturnStatement</em> :<br />
¬†¬† <code>return</code> <a href="spec/statements/../expressions/index.html"><em>Expression</em></a><sup>?</sup></p>
</blockquote>
<p>The return statement is denoted with the keyword <code>return</code>. A <code>return</code> statement leaves the current function call with a return value which is either the value of the evaluated expression (if present) or <code>()</code> (unit type) if <code>return</code> is not followed by an expression explicitly.</p>
<p>An example of a <code>return</code> statement without explicit use of an expression:</p>
<pre><code class="language-python">contract Foo:
    fn transfer(self, to: address, value: u256):
        if not self.in_whitelist(to):
            return

    fn in_whitelist(self, to: address) -&gt; bool:
        # revert used as placeholder for actual logic
        revert
</code></pre>
<p>The above can also be written in a slightly more verbose form:</p>
<pre><code class="language-python">contract Foo:
    fn transfer(self, to: address, value: u256) -&gt; ():
        if not self.in_whitelist(to):
            return ()

    fn in_whitelist(self, to: address) -&gt; bool:
        # revert used as placeholder for actual logic
        revert
</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="emit-statement"><a class="header" href="#emit-statement"><code>emit</code> statement</a></h1>
<blockquote>
<p><strong><sup>Syntax</sup></strong><br />
<em>EmitStatement</em> :<br />
¬†¬† <code>emit</code> <em>EventLiteral</em> <code>(</code> <em>CallParams</em><sup>?</sup> <code>)</code></p>
<p><em>EventLiteral</em> :<br />
¬†¬† <a href="spec/statements/../lexical_structure/identifiers.html">IDENTIFIER</a><sup>Name of event defined in current module</sup></p>
<p><em>CallParams</em> :<br />
¬†¬† <em>CallArg</em>¬†( <code>,</code> <em>CallArg</em> )<sup>*</sup> <code>,</code><sup>?</sup></p>
<p><em>CallArg</em> :<br />
¬†¬† (<em>CallArgLabel</em> <code>:</code>)<sup>?</sup> <a href="spec/statements/../expressions/index.html"><em>Expression</em></a></p>
<p><em>CallArgLabel</em> :<br />
¬†¬† <a href="spec/statements/../lexical_structure/identifiers.html">IDENTIFIER</a><sup>Label must correspond to the name of the event property at the given position. It can be omitted if parameter name and event property name are equal.</sup></p>
</blockquote>
<p>The <code>emit</code> statement is used to create <a href="https://ethereum.stackexchange.com/questions/12950/what-are-solidity-events-and-how-they-are-related-to-topics-and-logs/12951#12951">log entries</a> in the blockchain. The <code>emit</code> keyword is followed by a literal that corresponds to a defined event, followed by a parenthesized comma-separated list of expressions.</p>
<p>Examples:</p>
<pre><code class="language-python">contract Foo:
    event Mix:
        num1: u256
        idx addr: address
        num2: u256
        my_bytes: Array&lt;u8, 100&gt;

    pub fn emit_mix(addr: address, my_bytes: Array&lt;u8, 100&gt;):
        emit Mix(num1: 26, addr, num2: 42, my_bytes)
</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="if-statement"><a class="header" href="#if-statement"><code>if</code> statement</a></h1>
<blockquote>
<p><strong><sup>Syntax</sup></strong><br />
<em>IfStatement</em> :<br />
¬†¬† <code>if</code> <a href="spec/statements/../expressions/index.html"><em>Expression</em></a><code>:</code> <a href="spec/statements/../lexical_structure/tokens.html#newline">NEWLINE</a><br />
¬†¬† <a href="spec/statements/../lexical_structure/tokens.html#indent">INDENT</a><br />
¬†¬† (<a href="spec/statements/./index.html"><em>Statement</em></a> | <a href="spec/statements/../expressions/index.html"><em>Expression</em></a>)<sup>+</sup><br />
¬†¬† <a href="spec/statements/../lexical_structure/tokens.html#dedent">DEDENT</a><br />
¬†¬† (<code>else</code> <code>:</code> <a href="spec/statements/../lexical_structure/tokens.html#newline">NEWLINE</a><br />
¬†¬† <a href="spec/statements/../lexical_structure/tokens.html#indent">INDENT</a><br />
¬†¬† (<a href="spec/statements/./index.html"><em>Statement</em></a> | <a href="spec/statements/../expressions/index.html"><em>Expression</em></a>)<sup>+</sup><br />
¬†¬† <a href="spec/statements/../lexical_structure/tokens.html#dedent">DEDENT</a>)<sup>?</sup></p>
</blockquote>
<p>Example:</p>
<pre><code class="language-python">contract Foo:

    pub fn bar(val: u256) -&gt; u256:
        if val &gt; 5:
            return 1
        else:
            return 2
</code></pre>
<p>The <code>if</code> statement is used for conditional execution.</p>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="for-statement"><a class="header" href="#for-statement"><code>for</code> statement</a></h1>
<blockquote>
<p><strong><sup>Syntax</sup></strong><br />
<em>ForStatement</em> :<br />
¬†¬† <code>for</code> <a href="spec/statements/../lexical_structure/identifiers.html">IDENTIFIER</a> <code>in</code> <a href="spec/statements/../expressions/index.html"><em>Expression</em></a> <code>:</code> <a href="spec/statements/../lexical_structure/tokens.html#newline">NEWLINE</a><br />
¬†¬† <a href="spec/statements/../lexical_structure/tokens.html#indent">INDENT</a><br />
¬†¬† (<a href="spec/statements/./index.html"><em>Statement</em></a> | <a href="spec/statements/../expressions/index.html"><em>Expression</em></a>)<sup>+</sup><br />
¬†¬† <a href="spec/statements/../lexical_structure/tokens.html#dedent">DEDENT</a></p>
</blockquote>
<p>A <code>for</code> statement is a syntactic construct for looping over elements provided by an <a href="spec/statements/../type_system/types/array.html">array type</a>.</p>
<p>An example of a <code>for</code> loop over the contents of an array:</p>
<p>Example:</p>
<pre><code class="language-python">contract Foo:

    pub fn bar(values: Array&lt;u256, 10&gt;) -&gt; u256:
        let sum: u256
        for i in values:
            sum = sum + i

        return sum
</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="while-statement"><a class="header" href="#while-statement"><code>while</code> statement</a></h1>
<blockquote>
<p><strong><sup>Syntax</sup></strong><br />
<em>WhileStatement</em> :<br />
¬†¬† <code>while</code> <a href="spec/statements/../expressions/index.html"><em>Expression</em></a> <code>:</code> <a href="spec/statements/../lexical_structure/tokens.html#newline">NEWLINE</a><br />
¬†¬† <a href="spec/statements/../lexical_structure/tokens.html#indent">INDENT</a><br />
¬†¬† (<a href="spec/statements/./index.html"><em>Statement</em></a> | <a href="spec/statements/../expressions/index.html"><em>Expression</em></a>)<sup>+</sup><br />
¬†¬† <a href="spec/statements/../lexical_structure/tokens.html#dedent">DEDENT</a></p>
</blockquote>
<p>A <code>while</code> loop begins by evaluation the <a href="spec/statements/../type_system/types/boolean.html">boolean</a> loop conditional expression. If the loop conditional expression evaluates to <code>true</code>, the loop body block executes, then control returns to the loop conditional expression. If the loop conditional expression evaluates to <code>false</code>, the <code>while</code> expression completes.</p>
<p>Example:</p>
<pre><code class="language-python">contract Foo:

    pub fn bar() -&gt; u256:
        let sum: u256
        while sum &lt; 10:
            sum += 1
        
        return sum
</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="break-statement"><a class="header" href="#break-statement"><code>break</code> statement</a></h1>
<blockquote>
<p><strong><sup>Syntax</sup></strong><br />
<em>BreakStatement</em> :<br />
¬†¬† <code>break</code></p>
</blockquote>
<p>The <code>break</code> statement can only be used within a <a href="spec/statements/./for.html"><code>for</code></a> or <a href="spec/statements/./while.html"><code>while</code></a> loop and causes the immediate termination of the loop.</p>
<p>If used within nested loops the <code>break</code> statement is associated with the innermost enclosing loop.</p>
<p>An example of a <code>break</code> statement used within a <a href="spec/statements/./while.html"><code>while</code></a> loop.</p>
<pre><code class="language-python">contract Foo:

    pub fn bar() -&gt; u256:
        let sum: u256
        while sum &lt; 10:
            sum += 1

            if some_abort_condition():
                break

        return sum

    fn some_abort_condition() -&gt; bool:
        # some complex logic
        return true
</code></pre>
<p>An example of a <code>break</code> statement used within a <a href="spec/statements/./for.html"><code>for</code></a> loop.</p>
<pre><code class="language-python">contract Foo:

    pub fn bar(values: Array&lt;u256, 10&gt;) -&gt; u256:
        let sum: u256
        for i in values:
            sum = sum + i

            if some_abort_condition():
                break

        return sum

    fn some_abort_condition() -&gt; bool:
        # some complex logic
        return true
</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="continue-statement"><a class="header" href="#continue-statement"><code>continue</code> statement</a></h1>
<blockquote>
<p><strong><sup>Syntax</sup></strong><br />
<em>ContinueStatement</em> :<br />
¬†¬† <code>continue</code></p>
</blockquote>
<p>The <code>continue</code> statement can only be used within a <a href="spec/statements/./for.html"><code>for</code></a> or <a href="spec/statements/./while.html"><code>while</code></a> loop and causes the immediate termination of the current iteration, returning control to the loop head.</p>
<p>If used within nested loops the <code>continue</code> statement is associated with the innermost enclosing loop.</p>
<p>An example of a <code>continue</code> statement used within a <a href="spec/statements/./while.html"><code>while</code></a> loop.</p>
<pre><code class="language-python">contract Foo:

    pub fn bar() -&gt; u256:
        let sum: u256
        while sum &lt; 10:
            sum += 1

            if some_skip_condition():
                continue

        return sum

    fn some_skip_condition() -&gt; bool:
        # some complex logic
        return true
</code></pre>
<p>An example of a <code>continue</code> statement used within a <a href="spec/statements/./for.html"><code>for</code></a> loop.</p>
<pre><code class="language-python">contract Foo:

    pub fn bar(values: Array&lt;u256, 10&gt;) -&gt; u256:
        let sum: u256
        for i in values:
            sum = sum + i

            if some_skip_condition():
                continue

        return sum

    fn some_skip_condition() -&gt; bool:
        # some complex logic
        return true
</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="assert-statement"><a class="header" href="#assert-statement"><code>assert</code> statement</a></h1>
<blockquote>
<p><strong><sup>Syntax</sup></strong><br />
<em>AssertStatement</em> :<br />
¬†¬† <code>assert</code> <a href="spec/statements/../expressions/index.html"><em>Expression</em></a> (<code>,</code> <a href="spec/statements/../expressions/index.html"><em>Expression</em></a>)<sup>?</sup></p>
</blockquote>
<p>The <code>assert</code> statement is used express invariants in the code. It consists of a <a href="spec/statements/../type_system/types/boolean.html">boolean</a> expression optionally followed by a comma followed by a <a href="spec/statements/../type_system/types/string.html">string</a> expression.</p>
<p>If the <a href="spec/statements/../type_system/types/boolean.html">boolean</a> expression evaluates to <code>false</code>, the code reverts with a panic code of <code>0x01</code>. In the case that the first expression evaluates to <code>false</code> and a second <a href="spec/statements/../type_system/types/string.html">string</a> expression is given, the code reverts with the given string as the <a href="https://github.com/ethereum/EIPs/issues/838">error code</a>.</p>
<div class="warning">
<p>Warning:
The current implementation of <code>assert</code> is under <a href="https://github.com/ethereum/fe/issues/516">active discussion</a> and likely to change.</p>
</div>
<p>An example of a <code>assert</code> statement without the optional message:</p>
<pre><code class="language-python">contract Foo:
    fn bar(val: u256):
        assert val &gt; 5
</code></pre>
<p>An example of a <code>assert</code> statement with an error message:</p>
<pre><code class="language-python">contract Foo:

    fn bar(val: u256):
        assert val &gt; 5, &quot;Must be greater than five&quot;
</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="pass-statement"><a class="header" href="#pass-statement"><code>pass</code> statement</a></h1>
<blockquote>
<p><strong><sup>Syntax</sup></strong><br />
<em>PassStatement</em> :<br />
¬†¬† <code>pass</code></p>
</blockquote>
<p>The <code>pass</code> statement is a <em>null</em> operation, it has no effect on code execution. It is useful as a placeholder when a statement is required syntactically, but no code needs to be executed.</p>
<p>Example of <code>pass</code> being used to define an empty contract body.</p>
<pre><code class="language-python">contract Foo:
    pass
</code></pre>
<p>Example of <code>pass</code> being used to define an empty function body.</p>
<pre><code class="language-python">contract Foo:

    pub fn bar():
        pass
</code></pre>
<p>Example of <code>pass</code> being used to define an code block after an <code>if</code> statement.</p>
<pre><code class="language-python">contract Foo:

    pub fn bar(condition: bool):
        if condition:
            pass
</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="expressions"><a class="header" href="#expressions">Expressions</a></h1>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="call-expressions"><a class="header" href="#call-expressions">Call expressions</a></h1>
<blockquote>
<p><strong><sup>Syntax</sup></strong><br />
<em>CallExpression</em> :<br />
¬†¬† <a href="spec/expressions/./index.html"><em>Expression</em></a> <em>GenericArgs</em><sup>?</sup> <code>(</code> <em>CallParams</em><sup>?</sup> <code>)</code></p>
<p><em>GenericArgs</em> :<br />
¬†¬† <code>&lt;</code> <a href="spec/expressions/../lexical_structure/identifiers.html">IDENTIFIER</a> | <a href="spec/expressions/../lexical_structure/tokens.html#integer-literals">INTEGER_LITERAL</a>  (<code>,</code> <a href="spec/expressions/../lexical_structure/identifiers.html">IDENTIFIER</a> | <a href="spec/expressions/../lexical_structure/tokens.html#integer-literals">INTEGER_LITERAL</a>)<sup>*</sup> <code>&gt;</code></p>
<p><em>CallParams</em> :<br />
¬†¬† <em>CallArg</em>¬†( <code>,</code> <em>CallArg</em> )<sup>*</sup> <code>,</code><sup>?</sup></p>
<p><em>CallArg</em> :<br />
¬†¬† (<em>CallArgLabel</em> <code>=</code>)<sup>?</sup> <a href="spec/expressions/./index.html"><em>Expression</em></a></p>
<p><em>CallArgLabel</em> :<br />
¬†¬† <a href="spec/expressions/../lexical_structure/identifiers.html">IDENTIFIER</a><sup>Label must correspond to the name of the called function argument at the given position. It can be omitted if parameter name and the name of the called function argument are equal.</sup></p>
</blockquote>
<p>A <em>call expression</em> calls a function. The syntax of a call expression is an <a href="spec/expressions/./index.html">expression</a>, followed by a parenthesized comma-separated list of call arguments. Call arguments are expressions which optionally may be labeled in which case the label must correspond to name of the function argument at the given position. Labels do <strong>not allow</strong> to change the order in which parameters can be applied to a function. If the function eventually returns, then the expression completes.</p>
<p>Example:</p>
<pre><code class="language-python">contract Foo:

    pub fn baz():
        bar(100, val2: 300)

    pub fn bar(val1: u256, val2: u256):
        pass
</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="tuple-expressions"><a class="header" href="#tuple-expressions">Tuple expressions</a></h1>
<blockquote>
<p><strong><sup>Syntax</sup></strong><br />
<em>TupleExpression</em> :<br />
¬†¬† <code>(</code> <em>TupleElements</em><sup>?</sup> <code>)</code></p>
<p><em>TupleElements</em> :<br />
¬†¬† ( <a href="spec/expressions/./index.html"><em>Expression</em></a> <code>,</code> )<sup>+</sup> <a href="spec/expressions/./index.html"><em>Expression</em></a><sup>?</sup></p>
</blockquote>
<p>A <em>tuple expression</em> constructs <a href="spec/expressions/../type_system/types/tuple.html">tuple values</a>.</p>
<p>The syntax for tuple expressions is a parenthesized, comma separated list of expressions, called the <em>tuple initializer operands</em>. The number of tuple initializer operands is the <em>arity</em> of the constructed tuple.</p>
<p>1-ary tuple expressions require a comma after their tuple initializer operand to be disambiguated with a parenthetical expression.</p>
<p>Tuple expressions without any tuple initializer operands produce the unit tuple.</p>
<p>For other tuple expressions, the first written tuple initializer operand initializes the field <code>item0</code> and subsequent operands initializes the next highest field.</p>
<p>For example, in the tuple expression <code>(true, false, 1)</code>, <code>true</code> initializes the value of the field <code>item0</code>, <code>false</code> field <code>item1</code>, and <code>1</code> field <code>item2</code>.</p>
<p>Examples of tuple expressions and their types:</p>
<table><thead><tr><th>Expression</th><th>Type</th></tr></thead><tbody>
<tr><td><code>()</code></td><td><code>()</code> (unit)</td></tr>
<tr><td><code>(0, 4)</code></td><td><code>(u256, u256)</code></td></tr>
<tr><td><code>(true, )</code></td><td><code>(bool, )</code></td></tr>
<tr><td><code>(true, -1, 1)</code></td><td><code>(bool, i256, u256)</code></td></tr>
</tbody></table>
<p>A tuple field can be accessed via an <a href="spec/expressions/./attribute.html">attribute expression</a>.</p>
<p>Example:</p>
<pre><code class="language-python">contract Foo:

    pub fn bar():
        # Creating a tuple via a tuple expression
        let some_tuple: (u256, bool) = (1, false)

        # Accessing the first tuple field via the `item0` field
        baz(some_tuple.item0)

    pub fn baz(input: u256):
        pass
</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="list-expressions"><a class="header" href="#list-expressions">List expressions</a></h1>
<blockquote>
<p><strong><sup>Syntax</sup></strong><br />
<em>ListExpression</em> :<br />
¬†¬† <code>[</code> <em>ListElements</em><sup>?</sup> <code>]</code></p>
<p><em>ListElements</em> :<br />
¬†¬† <a href="spec/expressions/./index.html"><em>Expression</em></a> (<code>,</code> <a href="spec/expressions/./index.html"><em>Expression</em></a>)<sup>*</sup> <code>,</code><sup>?</sup></p>
</blockquote>
<p>A <em>list expression</em> constructs <a href="spec/expressions/../type_system/types/array.html">array values</a>.</p>
<p>The syntax for list expressions is a parenthesized, comma separated list of expressions, called the <em>list initializer operands</em>. The number of list initializer operands must be equal to the static size of the array type. The types of all list initializer operands must conform to the type of the array.</p>
<p>Examples of tuple expressions and their types:</p>
<table><thead><tr><th>Expression</th><th>Type</th></tr></thead><tbody>
<tr><td><code>[1, self.get_number()]</code></td><td><code>u256[2]</code></td></tr>
<tr><td><code>[true, false, false]</code></td><td><code>bool[3]</code></td></tr>
</tbody></table>
<p>An array item can be accessed via an <a href="spec/expressions/./indexing.html">index expression</a>.</p>
<p>Example:</p>
<pre><code class="language-python">contract Foo:

    fn get_val3() -&gt; u256:
        return 3

    pub fn baz():
        let val1: u256 = 2
        # A list expression
        let foo: Array&lt;u256, 3&gt; = [1, val1, get_val3()]
</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="struct-expressions"><a class="header" href="#struct-expressions">Struct expressions</a></h1>
<p>TBW</p>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="index-expressions"><a class="header" href="#index-expressions">Index expressions</a></h1>
<blockquote>
<p><strong><sup>Syntax</sup></strong><br />
<em>IndexExpression</em> :<br />
¬†¬† <a href="spec/expressions/./index.html"><em>Expression</em></a> <code>[</code> <a href="spec/expressions/./index.html"><em>Expression</em></a> <code>]</code></p>
</blockquote>
<p><a href="spec/expressions/../type_system/types/array.html">Array</a> and <a href="spec/expressions/../type_system/types/map.html">Map</a> types can be indexed by by writing a square-bracket-enclosed expression after them. For arrays, the type of the index key has to be <code>u256</code> whereas for <a href="spec/expressions/../type_system/types/map.html">Map</a> types it has to be equal to the key type of the map.</p>
<p>Example:</p>
<pre><code class="language-python">contract Foo:

    balances: Map&lt;address, u256&gt;

    pub fn baz(self, values: Array&lt;u256, 10&gt;):
        # Assign value at slot 5
        values[5] = 1000
        # Read value at slot 5
        let val1: u256 = values[5]

        # Assign value for address zero
        self.balances[address(0)] = 10000

        # Read balance of address zero
        let bal: u256 = self.balances[address(0)]
</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="attribute-expressions"><a class="header" href="#attribute-expressions">Attribute expressions</a></h1>
<blockquote>
<p><strong><sup>Syntax</sup></strong><br />
<em>AttributeExpression</em> :<br />
¬†¬† <a href="spec/expressions/./index.html"><em>Expression</em></a> <code>.</code> <a href="spec/expressions/../lexical_structure/identifiers.html">IDENTIFIER</a></p>
</blockquote>
<p>An attribute expression evaluates to the location of an attribute of a <a href="spec/expressions/../type_system/types/struct.html">struct</a>, <a href="spec/expressions/../type_system/types/tuple.html">tuple</a> or <a href="spec/expressions/../type_system/types/contract.html">contract</a>.</p>
<p>The syntax for an attribute expression is an expression, then a <code>.</code> and finally an identifier.</p>
<p>Examples:</p>
<pre><code class="language-python">struct Point:
    pub x: u256
    pub y: u256

contract Foo:
    some_point: Point
    some_tuple: (bool, u256)

    fn get_point() -&gt; Point:
        return Point(x: 100, y: 500)

    pub fn baz(some_point: Point, some_tuple: (bool, u256)):
        # Different examples of attribute expressions
        let bool_1: bool = some_tuple.item0
        let x1: u256 = some_point.x
        let point1: u256 = get_point().x
        let point2: u256 = some_point.x

</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="name-expressions"><a class="header" href="#name-expressions">Name expressions</a></h1>
<blockquote>
<p><strong><sup>Syntax</sup></strong><br />
<em>NameExpression</em> :<br />
¬†¬† <a href="spec/expressions/../lexical_structure/identifiers.html">IDENTIFIER</a></p>
</blockquote>
<p>A <em>name expression</em> resolves to a local variable.</p>
<p>Example:</p>
<pre><code class="language-python">contract Foo:

    pub fn baz(foo: u256):
        # name expression resolving to the value of `foo`
        foo
</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="literal-expressions"><a class="header" href="#literal-expressions">Literal expressions</a></h1>
<blockquote>
<p><strong><sup>Syntax</sup></strong><br />
<em>LiteralExpression</em> :<br />
¬†¬† | <a href="spec/expressions/../lexical_structure/tokens.html#string-literals">STRING_LITERAL</a><br />
¬†¬† | <a href="spec/expressions/../lexical_structure/tokens.html#integer-literals">INTEGER_LITERAL</a><br />
¬†¬† | <a href="spec/expressions/../lexical_structure/tokens.html#boolean-literals">BOOLEAN_LITERAL</a></p>
</blockquote>
<p>A <em>literal expression</em> consists of one of the <a href="spec/expressions/../lexical_structure/tokens.html#literals">literal</a> forms described earlier.
It directly describes a number, string or boolean value.</p>
<pre><code class="language-Python">&quot;hello&quot;   # string type
5         # integer type
true      # boolean type
</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="arithmetic-operators"><a class="header" href="#arithmetic-operators">Arithmetic Operators</a></h1>
<blockquote>
<p><strong><sup>Syntax</sup></strong><br />
<em>ArithmeticExpression</em> :<br />
¬†¬†¬†¬† <a href="spec/expressions/./index.html"><em>Expression</em></a> <code>+</code> <a href="spec/expressions/./index.html"><em>Expression</em></a><br />
¬†¬† | <a href="spec/expressions/./index.html"><em>Expression</em></a> <code>-</code> <a href="spec/expressions/./index.html"><em>Expression</em></a><br />
¬†¬† | <a href="spec/expressions/./index.html"><em>Expression</em></a> <code>*</code> <a href="spec/expressions/./index.html"><em>Expression</em></a><br />
¬†¬† | <a href="spec/expressions/./index.html"><em>Expression</em></a> <code>/</code> <a href="spec/expressions/./index.html"><em>Expression</em></a><br />
¬†¬† | <a href="spec/expressions/./index.html"><em>Expression</em></a> <code>%</code> <a href="spec/expressions/./index.html"><em>Expression</em></a><br />
¬†¬† | <a href="spec/expressions/./index.html"><em>Expression</em></a> <code>**</code> <a href="spec/expressions/./index.html"><em>Expression</em></a><br />
¬†¬† | <a href="spec/expressions/./index.html"><em>Expression</em></a> <code>&amp;</code> <a href="spec/expressions/./index.html"><em>Expression</em></a><br />
¬†¬† | <a href="spec/expressions/./index.html"><em>Expression</em></a> <code>|</code> <a href="spec/expressions/./index.html"><em>Expression</em></a><br />
¬†¬† | <a href="spec/expressions/./index.html"><em>Expression</em></a> <code>^</code> <a href="spec/expressions/./index.html"><em>Expression</em></a><br />
¬†¬† | <a href="spec/expressions/./index.html"><em>Expression</em></a> <code>&lt;&lt;</code> <a href="spec/expressions/./index.html"><em>Expression</em></a><br />
¬†¬† | <a href="spec/expressions/./index.html"><em>Expression</em></a> <code>&gt;&gt;</code> <a href="spec/expressions/./index.html"><em>Expression</em></a></p>
</blockquote>
<p>Binary operators expressions are all written with <a href="https://en.wikipedia.org/wiki/Infix_notation">infix notation</a>.
This table summarizes the behavior of arithmetic and logical binary operators on
primitive types.</p>
<table><thead><tr><th>Symbol</th><th>Integer</th></tr></thead><tbody>
<tr><td><code>+</code></td><td>Addition</td></tr>
<tr><td><code>-</code></td><td>Subtraction</td></tr>
<tr><td><code>*</code></td><td>Multiplication</td></tr>
<tr><td><code>/</code></td><td>Division*</td></tr>
<tr><td><code>%</code></td><td>Remainder</td></tr>
<tr><td><code>**</code></td><td>Exponentiation</td></tr>
<tr><td><code>&amp;</code></td><td>Bitwise AND</td></tr>
<tr><td><code>|</code></td><td>Bitwise OR</td></tr>
<tr><td><code>^</code></td><td>Bitwise XOR</td></tr>
<tr><td><code>&lt;&lt;</code></td><td>Left Shift</td></tr>
<tr><td><code>&gt;&gt;</code></td><td>Right Shift</td></tr>
</tbody></table>
<p>* Integer division rounds towards zero.</p>
<p>Here are examples of these operators being used.</p>
<pre><code>3 + 6 == 9
6 - 3 == 3
2 * 3 == 6
6 / 3 == 2 TODO: Rest
5 % 4 == 1
2 ** 4 == 16
12 &amp; 25 == 8
12 | 25 == 29
12 ^ 25 == 21
212 &lt;&lt; 1 == 424
212 &gt;&gt; 1 == 106
</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="comparison-operators"><a class="header" href="#comparison-operators">Comparison Operators</a></h1>
<blockquote>
<p><strong><sup>Syntax</sup></strong><br />
<em>ComparisonExpression</em> :<br />
¬†¬† ¬†¬† <a href="spec/expressions/./index.html"><em>Expression</em></a> <code>==</code> <a href="spec/expressions/./index.html"><em>Expression</em></a><br />
¬†¬† | <a href="spec/expressions/./index.html"><em>Expression</em></a> <code>!=</code> <a href="spec/expressions/./index.html"><em>Expression</em></a><br />
¬†¬† | <a href="spec/expressions/./index.html"><em>Expression</em></a> <code>&gt;</code> <a href="spec/expressions/./index.html"><em>Expression</em></a><br />
¬†¬† | <a href="spec/expressions/./index.html"><em>Expression</em></a> <code>&lt;</code> <a href="spec/expressions/./index.html"><em>Expression</em></a><br />
¬†¬† | <a href="spec/expressions/./index.html"><em>Expression</em></a> <code>&gt;=</code> <a href="spec/expressions/./index.html"><em>Expression</em></a><br />
¬†¬† | <a href="spec/expressions/./index.html"><em>Expression</em></a> <code>&lt;=</code> <a href="spec/expressions/./index.html"><em>Expression</em></a></p>
</blockquote>
<table><thead><tr><th>Symbol</th><th>Meaning</th></tr></thead><tbody>
<tr><td><code>==</code></td><td>Equal</td></tr>
<tr><td><code>!=</code></td><td>Not equal</td></tr>
<tr><td><code>&gt;</code></td><td>Greater than</td></tr>
<tr><td><code>&lt;</code></td><td>Less than</td></tr>
<tr><td><code>&gt;=</code></td><td>Greater than or equal to</td></tr>
<tr><td><code>&lt;=</code></td><td>Less than or equal to</td></tr>
</tbody></table>
<p>Here are examples of the comparison operators being used.</p>
<pre><code>123 == 123
23 != -12
12 &gt; 11
11 &gt;= 11
11 &lt; 12
11 &lt;= 11
</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="boolean-operators"><a class="header" href="#boolean-operators">Boolean Operators</a></h1>
<blockquote>
<p><strong><sup>Syntax</sup></strong><br />
<em>BooleanExpression</em> :<br />
¬†¬†¬†¬† <a href="spec/expressions/./index.html"><em>Expression</em></a> <code>or</code> <a href="spec/expressions/./index.html"><em>Expression</em></a><br />
¬†¬† | <a href="spec/expressions/./index.html"><em>Expression</em></a> <code>and</code> <a href="spec/expressions/./index.html"><em>Expression</em></a></p>
</blockquote>
<p>The operators <code>or</code> and <code>and</code> may be applied to operands of boolean type. The <code>or</code> operator denotes logical 'or', and the <code>and</code> operator denotes logical 'and'.</p>
<div class="warning">
<p>Warning:
These operators do currently not evaluate lazily which is likely to change in the future. (<a href="https://github.com/ethereum/fe/issues/488">See GitHub issue</a>)</p>
</div>
<p>Example:</p>
<pre><code>let x: bool = false or true # true
</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="unary-operators"><a class="header" href="#unary-operators">Unary Operators</a></h1>
<blockquote>
<p><strong><sup>Syntax</sup></strong><br />
<em>UnaryExpression</em> :<br />
¬†¬†¬†¬† <code>not</code> <a href="spec/expressions/../expressions/index.html"><em>Expression</em></a><br />
¬†¬† | <code>-</code> <a href="spec/expressions/../expressions/index.html"><em>Expression</em></a><br />
¬†¬† | <code>~</code> <a href="spec/expressions/../expressions/index.html"><em>Expression</em></a></p>
</blockquote>
<p>The unary operators are used to negate expressions. The unary <code>-</code> (minus) operator yields the negation of its numeric argument. The unary <code>~</code> (invert) operator yields the <em>bitwise</em> inversion of its integer argument. The unary <code>not</code> operator yields the inversion of its boolean argument.</p>
<p>Example:</p>
<pre><code>let x: bool = not true # false
let y: i256 = -1  # -1
let y: i256 = ~1  # -2
</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="type-system"><a class="header" href="#type-system">Type System</a></h1>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="types"><a class="header" href="#types">Types</a></h1>
<p>Every variable, item, and value in a Fe program has a type. The _ of a
<em>value</em> defines the interpretation of the memory holding it and the operations
that may be performed on the value.</p>
<p>Built-in types are tightly integrated into the language, in nontrivial ways
that are not possible to emulate in user-defined types. User-defined types have
limited capabilities.</p>
<p>The list of types is:</p>
<ul>
<li>Data types
<ul>
<li>Base types:
<ul>
<li><a href="spec/type_system/types/boolean.html">Boolean</a> ‚Äî <code>true</code> or <code>false</code></li>
<li><a href="spec/type_system/types/address.html">Address</a> - Ethereum address</li>
<li><a href="spec/type_system/types/numeric.html">Numeric</a> ‚Äî integer</li>
</ul>
</li>
<li>Reference types:
<ul>
<li>Sequence types
<ul>
<li><a href="spec/type_system/types/tuple.html">Tuple</a></li>
<li><a href="spec/type_system/types/array.html">Array</a></li>
<li><a href="spec/type_system/types/string.html">String</a></li>
<li><a href="spec/type_system/types/struct.html">Struct</a></li>
<li><a href="spec/type_system/types/enum.html">Enum</a></li>
</ul>
</li>
<li><a href="spec/type_system/types/map.html">Map</a></li>
</ul>
</li>
</ul>
</li>
<li>Other types:
<ul>
<li><a href="spec/type_system/types/unit.html">Unit</a> </li>
<li><a href="spec/type_system/types/event.html">Event</a></li>
<li><a href="spec/type_system/types/contract.html">Contract</a></li>
<li><a href="spec/type_system/types/function.html">Function</a></li>
</ul>
</li>
</ul>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="boolean-type"><a class="header" href="#boolean-type">Boolean type</a></h1>
<p>The <code>bool</code> type is a data type which can be either <code>true</code> or <code>false</code>.</p>
<p>Example:</p>
<pre><code class="language-Python">x = true
</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="contract-types"><a class="header" href="#contract-types">Contract types</a></h1>
<p>An <em>contract type</em> is the type denoted by the name of an <a href="spec/type_system/types/../../items/contracts.html"><code>contract</code> item</a>.</p>
<p>A value of a given contract type carries the contract's public interface as 
attribute functions. A new contract value can be created by either casting
an address to a contract type or by creating a new contract using the type 
attribute functions <code>create</code> or <code>create2</code>.</p>
<p>Example:</p>
<pre><code class="language-python">contract Foo:
    pub fn get_my_num() -&gt; u256:
        return 42

contract FooFactory:
    pub fn create2_foo() -&gt; address:
        # `0` is the value being sent and `52` is the address salt
        let foo: Foo = Foo.create2(0, 52)
        return address(foo)
</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="numeric-types"><a class="header" href="#numeric-types">Numeric types</a></h1>
<p>The unsigned integer types consist of:</p>
<table><thead><tr><th>Type</th><th>Minimum</th><th>Maximum</th></tr></thead><tbody>
<tr><td><code>u8</code></td><td>0</td><td>2<sup>8</sup>-1</td></tr>
<tr><td><code>u16</code></td><td>0</td><td>2<sup>16</sup>-1</td></tr>
<tr><td><code>u32</code></td><td>0</td><td>2<sup>32</sup>-1</td></tr>
<tr><td><code>u64</code></td><td>0</td><td>2<sup>64</sup>-1</td></tr>
<tr><td><code>u128</code></td><td>0</td><td>2<sup>128</sup>-1</td></tr>
<tr><td><code>u256</code></td><td>0</td><td>2<sup>256</sup>-1</td></tr>
</tbody></table>
<p>The signed two's complement integer types consist of:</p>
<table><thead><tr><th>Type</th><th>Minimum</th><th>Maximum</th></tr></thead><tbody>
<tr><td><code>i8</code></td><td>-(2<sup>7</sup>)</td><td>2<sup>7</sup>-1</td></tr>
<tr><td><code>i16</code></td><td>-(2<sup>15</sup>)</td><td>2<sup>15</sup>-1</td></tr>
<tr><td><code>i32</code></td><td>-(2<sup>31</sup>)</td><td>2<sup>31</sup>-1</td></tr>
<tr><td><code>i64</code></td><td>-(2<sup>63</sup>)</td><td>2<sup>63</sup>-1</td></tr>
<tr><td><code>i128</code></td><td>-(2<sup>127</sup>)</td><td>2<sup>127</sup>-1</td></tr>
<tr><td><code>i256</code></td><td>-(2<sup>255</sup>)</td><td>2<sup>255</sup>-1</td></tr>
</tbody></table>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="tuple-types"><a class="header" href="#tuple-types">Tuple Types</a></h1>
<blockquote>
<p><strong><sup>Syntax</sup></strong><br />
<em>TupleType</em> :<br />
¬†¬† ¬†¬† <code>(</code> <code>)</code><br />
¬†¬† | <code>(</code> ( <a href="spec/type_system/types/./index.html"><em>Type</em></a> <code>,</code> )<sup>+</sup> <a href="spec/type_system/types/./index.html"><em>Type</em></a><sup>?</sup> <code>)</code></p>
</blockquote>
<p><em>Tuple types</em> are a family of structural types<sup class="footnote-reference"><a href="#1">1</a></sup> for heterogeneous lists of other types.</p>
<p>The syntax for a tuple type is a parenthesized, comma-separated list of types.</p>
<p>A tuple type has a number of fields equal to the length of the list of types.
This number of fields determines the <em>arity</em> of the tuple.
A tuple with <code>n</code> fields is called an <em>n-ary tuple</em>.
For example, a tuple with 2 fields is a 2-ary tuple.</p>
<p>Fields of tuples are named using increasing numeric names matching their position in the list of types.
The first field is <code>item0</code>.
The second field is <code>item1</code>.
And so on.
The type of each field is the type of the same position in the tuple's list of types.</p>
<p>For convenience and historical reasons, the tuple type with no fields (<code>()</code>) is often called <em>unit</em> or <em>the unit type</em>.
Its one value is also called <em>unit</em> or <em>the unit value</em>.</p>
<p>Some examples of tuple types:</p>
<ul>
<li><code>()</code> (also known as the <em>unit</em> or <em>zero-sized type</em>)</li>
<li><code>(u8, u8)</code></li>
<li><code>(bool, i32)</code></li>
<li><code>(i32, bool)</code> (different type from the previous example)</li>
</ul>
<p>Values of this type are constructed using a <a href="spec/type_system/types/../../expressions/tuple.html">tuple expression</a>.
Furthermore, various expressions will produce the unit value if there is no other meaningful value for it to evaluate to.
Tuple fields can be accessed via an <a href="spec/type_system/types/../../expressions/attribute.html">attribute expression</a>.</p>
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>Structural types are always equivalent if their internal types are equivalent.</p>
</div>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="array-types"><a class="header" href="#array-types">Array types</a></h1>
<blockquote>
<p><strong><sup>Syntax</sup></strong><br />
<em>ArrayType</em> :<br />
¬†¬† Array&lt;<a href="spec/type_system/types/./index.html"><em>Type</em></a>, <em>INTEGER_LITERAL</em>&gt;</p>
</blockquote>
<p>An array is a fixed-size sequence of <code>N</code> elements of type <code>T</code>. The array type
is written as <code>Array&lt;T, N&gt;</code>. The size is an integer literal.</p>
<p>Arrays are either stored in storage or memory but are never stored directly on the stack.</p>
<p>Examples:</p>
<pre><code class="language-Python">contract Foo:
  # An array in storage
  bar: Array&lt;u8, 10&gt;

  fn do_something():
    # An array in memory
    values: Array&lt;u256, 3&gt; = [10, 100, 100]
</code></pre>
<p>All elements of arrays are always initialized, and access to an array is
always bounds-checked in safe methods and operators.</p>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="struct-types"><a class="header" href="#struct-types">Struct types</a></h1>
<p>A <em>struct type</em> is the type denoted by the name of an <a href="spec/type_system/types/../../items/structs.html"><code>struct</code> item</a>.
A <code>struct</code> <em>type</em> is a heterogeneous product of other types, called the
<em>fields</em> of the type.</p>
<p>New instances of a <code>struct</code> can be constructed with a <a href="spec/type_system/types/../../expressions/struct.html">struct expression</a>.</p>
<p>Struct types are either stored in storage or memory but are never stored directly on the stack.</p>
<p>Examples:</p>
<pre><code class="language-Python">struct Rectangle:
  width: u256
  length: u256

contract Example:
  # A Rectangle in storage
  area: Rectangle

  fn do_something():
    let length: u256 = 20
    # A rectangle in memory
    let square: Rectangle = Rectangle(width: 10, length)
</code></pre>
<p>All fields of struct types are always initialized.</p>
<p>The data layout of a <code>struct</code> is not part of its external API and may be changed in any release.</p>
<p>The fields of a <code>struct</code> may be qualified by <a href="spec/type_system/types/../../items/visibility_and_privacy.html">visibility modifiers</a>, to allow
access to data in a struct outside a module.</p>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="enum-types"><a class="header" href="#enum-types">Enum types</a></h1>
<p>An <em>enum type</em> is the type denoted by the name of an <a href="spec/type_system/types/../../items/enum.html"><code>enum</code> item</a>.</p>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="address-type"><a class="header" href="#address-type">Address Type</a></h1>
<p>The <code>address</code> type represents a 20 byte Ethereum address.</p>
<p>Example:</p>
<pre><code class="language-Python">contract Example:
  # An address in storage
  someone: address

  fn do_something():
    # A plain address (not part of a tuple, struct etc) remains on the stack
    dai_contract: address = address(0x6b175474e89094c44da98b954eedeac495271d0f)
</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="map-type"><a class="header" href="#map-type">Map type</a></h1>
<p>The type <code>Map&lt;K, V&gt;</code> is used to associate key values with data.</p>
<p>The following types can be used as key:</p>
<ul>
<li><a href="spec/type_system/types/unit.html">unit type</a></li>
<li><a href="spec/type_system/types/boolean.html">boolean type</a></li>
<li><a href="spec/type_system/types/address.html">address type</a></li>
<li><a href="spec/type_system/types/numeric.html">numeric types</a></li>
</ul>
<p>The values can be of any type including other maps, <a href="spec/type_system/types/struct.html">structs</a>, <a href="spec/type_system/types/tuple.html">tuples</a> or <a href="spec/type_system/types/array.html">arrays</a>.</p>
<p>Example:</p>
<pre><code class="language-python">contract Foo:
    bar: Map&lt;address, Map&lt;address, u256&gt;&gt;
    baz: Map&lt;address, Map&lt;u256, bool&gt;&gt;

    pub fn read_bar(self, a: address, b: address) -&gt; u256:
        return self.bar[a][b]

    pub fn write_bar(self, a: address, b: address, value: u256):
        self.bar[a][b] = value

    pub fn read_baz(self, a: address, b: u256) -&gt; bool:
        return self.baz[a][b]

    pub fn write_baz(self, a: address, b: u256, value: bool):
        self.baz[a][b] = value
</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="string-type"><a class="header" href="#string-type">String Type</a></h1>
<p>A value of type <code>String&lt;N&gt;</code> represents a sequence of unsigned bytes with the assumption that the data is valid UTF-8.</p>
<p>The <code>String&lt;N&gt;</code> type is generic over a constant value that has to be an integer literal. That value <code>N</code> constraints the maximum number of bytes that are available for storing the string's characters.</p>
<p>Note that the value of <code>N</code> does not restrict the type to hold exactly that number of bytes at all times which means that a type such as <code>String&lt;10&gt;</code> can hold a short word such as <code>&quot;fox&quot;</code> but it can not hold a full sentence such as <code>&quot;The brown fox jumps over the white fence&quot;</code>.</p>
<p>Example:</p>
<pre><code class="language-python">contract Foo:

  fn bar():
    let single_byte_string: String&lt;1&gt; = &quot;a&quot;
    # Casting is needed because the type inferred from &quot;foo&quot; is String&lt;3&gt;
    let longer_string: String&lt;100&gt; = String&lt;100&gt;(&quot;foo&quot;)
</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="unit-type"><a class="header" href="#unit-type">Unit type</a></h1>
<p>TBW</p>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="event-types"><a class="header" href="#event-types">Event types</a></h1>
<p>An <em>event type</em> is the type denoted by the name of an <a href="spec/type_system/types/../../items/events.html"><code>event</code> item</a>.</p>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="function-types"><a class="header" href="#function-types">Function Types</a></h1>
<p>TBW</p>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="data-layout"><a class="header" href="#data-layout">Data Layout</a></h1>
<p>There are three places where data can be stored on the EVM:</p>
<ul>
<li><strong>stack</strong>: 256-bit values placed on the stack that are loaded using <code>DUP</code> operations.</li>
<li><strong>storage</strong>: 256-bit address space where 256-bit values can be stored. Accessing higher
storage slots does not increase gas cost.</li>
<li><strong>memory</strong>: 256-bit address space where 256-bit values can be stored. Accessing higher
memory slots increases gas cost.</li>
</ul>
<p>Each <a href="spec/data_layout/../type_system/types/index.html">data type</a> can be stored in these locations. How data is stored is
described in this section.</p>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="stack"><a class="header" href="#stack">Stack</a></h1>
<p>The following can be stored on the stack:</p>
<ul>
<li>base type values</li>
<li>pointers to reference type values</li>
</ul>
<p>The size of each value stored on the stack must not exceed 256 bits. Since all base types are less
than or equal to 256 bits in size, we store them on the stack. Pointers to values stored in memory or storage may also be stored on the stack.</p>
<p>Example:</p>
<pre><code class="language-python"># function scope
foo: u256 = 42 # foo is stored on the stack
bar: Array&lt;u256, 100&gt; # bar is a memory pointer stored on the stack
</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="storage"><a class="header" href="#storage">Storage</a></h1>
<p>All data types can be stored in storage.</p>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="constant-size-values-in-storage"><a class="header" href="#constant-size-values-in-storage">Constant size values in storage</a></h1>
<p>Storage pointers for constant size values are determined at compile time.</p>
<p>Example:</p>
<pre><code class="language-python"># contract scope
foo: u256 # foo is assigned a static pointer by the compiler
</code></pre>
<p>The value of a base type in storage is found by simply loading the value from storage at the
given pointer.</p>
<p>To find an element inside of a sequence type, the relative location of the element is added to the
given pointer.</p>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="maps-in-storage"><a class="header" href="#maps-in-storage">Maps in storage</a></h1>
<p>Maps are not assigned pointers, because they do not have a location in storage. They are instead
assigned a nonce that is used to derive the location of keyed values during runtime.</p>
<p>Example:</p>
<pre><code class="language-python"># contract scope
bar: Map&lt;address, u256&gt; # bar is assigned a static nonce by the compiler
baz: Map&lt;address, Map&lt;address, u256&gt;&gt; # baz is assigned a static nonce by the compiler
</code></pre>
<p>The expression <code>bar[0x00]</code> would resolve to the hash of both bar's nonce and the key value
.i.e. <code>keccak256(&lt;bar nonce&gt;, 0x00)</code>. Similarly, the expression <code>baz[0x00][0x01]</code> would resolve to
a nested hash i.e. <code>keccak256(keccak256(&lt;baz nonce&gt;, 0x00), 0x01)</code>.</p>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="the-to_mem-function"><a class="header" href="#the-to_mem-function">The <code>to_mem</code> function</a></h1>
<p>Reference type values can be copied from storage and into memory using the <code>to_mem</code> function.</p>
<p>Example:</p>
<pre><code class="language-python">my_array_var: Array&lt;u256, 10&gt; = self.my_array_field.to_mem()
</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="memory"><a class="header" href="#memory">Memory</a></h1>
<p>Only sequence types can be stored in memory.</p>
<p>The first memory slot (<code>0x00</code>) is used to keep track of the lowest available memory slot. Newly
allocated segments begin at the value given by this slot. When more memory has been allocated,
the value stored in <code>0x00</code> is increased.</p>
<p>We do not free memory after it is allocated.</p>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="sequence-types-in-memory"><a class="header" href="#sequence-types-in-memory">Sequence types in memory</a></h1>
<p>Sequence type values may exceed the 256-bit stack slot size, so we store them in memory and
reference them using pointers kept on the stack.</p>
<p>Example:</p>
<pre><code class="language-python"># function scope
foo: Array&lt;u256, 100&gt; # foo is a pointer that references 100 * 256 bits in memory.
</code></pre>
<p>To find an element inside of a sequence type, the relative location of the element is added to the
given pointer.</p>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="the-clone-function"><a class="header" href="#the-clone-function">The <code>clone</code> function</a></h1>
<p>Reference type values in memory can be cloned using the <code>clone</code> function.</p>
<p>Example:</p>
<pre><code class="language-python"># with clone
foo: Array&lt;u256, 10&gt; = bar.clone() # `foo` points to a new segment of memory
assert foo[1] == bar[1] 
foo[1] = 42
assert foo[1] != bar[1] # modifying `foo` does not modify bar

# without clone
foo: Array&lt;u256, 10&gt; = bar # `foo` and `bar` point to the same segment of memory
assert foo[1] == bar[1]
foo[1] = 42
assert foo[1] == bar[1] # modifying `foo` also modifies `bar`
</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="function-calls"><a class="header" href="#function-calls">Function calls</a></h1>
<p>Constant size values stored on the stack or in memory can be passed into and returned by functions.</p>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="release-notes"><a class="header" href="#release-notes">Release Notes</a></h1>
<p><a href="https://github.com/ethereum/fe/releases">üñ•Ô∏è Download Binaries</a>
<a href="https://github.com/ethereum/fe/tree/master/spec">üìÑ Draft Spec</a>
<a href="https://github.com/ethereum/fe#getting-started">‚ÑπÔ∏è Getting Started</a></p>
<p>Fe is moving fast. Read up on all the latest improvements.</p>
<p><strong>WARNING: All Fe releases are alpha releases and only meant to share the development progress with developers and enthusiasts. It is NOT yet ready for production usage.</strong></p>
<h2 id="0130-alpha-2022-01-31-0130-alpha-2022-01-31"><a class="header" href="#0130-alpha-2022-01-31-0130-alpha-2022-01-31">0.13.0-alpha (2022-01-31)## 0.13.0-alpha (2022-01-31)</a></h2>
<h3 id="features"><a class="header" href="#features">Features</a></h3>
<ul>
<li>
<p>Support private fields on structs</p>
<p>Public fields now need to be declared with the <code>pub</code> modifier, otherwise they default to private fields.
If a struct contains private fields it can not be constructed directly except from within the
struct itself. The recommended way is to implement a method <code>new(...)</code> as demonstrated in the
following example.</p>
<pre><code>struct House:
    pub price: u256
    pub size: u256
    vacant: bool

    pub fn new(price: u256, size: u256) -&gt; House
      return House(price=price, size=size, vacant=true)

contract Manager:

  house: House

  pub fn create_house(price: u256, size: u256):
    self.house = House::new(price, size)
    let can_access_price: u256 = self.house.price
    # can not access `self.house.vacant` because the field is private
``` ([#214](https://github.com/ethereum/fe/issues/214))
</code></pre>
</li>
<li>
<p>Support non-base type fields in structs</p>
<p>Support is currently limited in two ways:</p>
<ul>
<li>Structs with complex fields can not be returned from public functions</li>
<li>Structs with complex fields can not be stored in storage (<a href="https://github.com/ethereum/fe/issues/343">#343</a>)</li>
</ul>
</li>
<li>
<p>Addresses can now be explicitly cast to u256. For example:</p>
<pre><code>fn f(addr: address) -&gt; u256:
  return u256(addr)
``` ([#621](https://github.com/ethereum/fe/issues/621))
</code></pre>
</li>
<li>
<p>A special function named <code>__call__</code> can now be defined in contracts. </p>
<p>The body of this function will execute in place of the standard dispatcher when the contract is called.</p>
<p>example (with intrinsics):</p>
<pre><code>contract Foo:
    pub fn __call__(self):
        unsafe:
            if __calldataload(0) == 1:
                __revert(0, 0)
            else:
                __return(0, 0)
``` ([#622](https://github.com/ethereum/fe/issues/622))


</code></pre>
</li>
</ul>
<h3 id="bugfixes"><a class="header" href="#bugfixes">Bugfixes</a></h3>
<ul>
<li>
<p>Fixed a crash that happend when using a certain unprintable ASCII char (<a href="https://github.com/ethereum/fe/issues/551">#551</a>)</p>
</li>
<li>
<p>The argument to <code>revert</code> wasn't being lowered by the compiler,
meaning that some <code>revert</code> calls would cause a compiler panic
in later stages. For example:</p>
<pre><code>const BAD_MOJO: u256 = 0xdeaddead

struct Error:
  code: u256

fn fail():
  revert Error(code = BAD_MOJO)
``` ([#619](https://github.com/ethereum/fe/issues/619))
</code></pre>
</li>
<li>
<p>Fixed a regression where an empty list expression (<code>[]</code>) would lead to a compiler crash. (<a href="https://github.com/ethereum/fe/issues/623">#623</a>)</p>
</li>
<li>
<p>Fixed a bug where int array elements were not sign extended in their ABI encodings. (<a href="https://github.com/ethereum/fe/issues/633">#633</a>)</p>
</li>
</ul>
<h2 id="0120-alpha-2021-12-31-0120-alpha-2021-12-31"><a class="header" href="#0120-alpha-2021-12-31-0120-alpha-2021-12-31">0.12.0-alpha (2021-12-31)## 0.12.0-alpha (2021-12-31)</a></h2>
<h3 id="features-1"><a class="header" href="#features-1">Features</a></h3>
<ul>
<li>
<p>Added unsafe low-level &quot;intrinsic&quot; functions, that perform raw evm operations.
For example:</p>
<pre><code>fn foo():
  unsafe:
    __mtore(0, 5000)
    assert __mload(0) == 5000
</code></pre>
<p>The functions available are exactly those defined in yul's &quot;evm dialect&quot;:
https://docs.soliditylang.org/en/v0.8.11/yul.html#evm-dialect
but with a double-underscore prefix. Eg <code>selfdestruct</code> -&gt; <code>__selfdestruct</code>.</p>
<p>These are intended to be used for implementing basic standard library functionality,
and shouldn't typically be needed in normal contract code.</p>
<p>Note: some intrinsic functions don't return a value (eg <code>__log0</code>); using these
functions in a context that assumes a return value of unit type (eg <code>let x: () = __log0(a, b)</code>)
will currently result in a compiler panic in the yul compilation phase. (<a href="https://github.com/ethereum/fe/issues/603">#603</a>)</p>
</li>
<li>
<p>Added an out of bounds check for accessing array items.
If an array index is retrieved at an index that is not within
the bounds of the array it now reverts with <code>Panic(0x32)</code>. (<a href="https://github.com/ethereum/fe/issues/606">#606</a>)</p>
</li>
</ul>
<h3 id="bugfixes-1"><a class="header" href="#bugfixes-1">Bugfixes</a></h3>
<ul>
<li>
<p>Ensure ternary expression short circuit.</p>
<p>Example:</p>
<pre><code>contract Foo:

    pub fn bar(input: u256) -&gt; u256:
        return 1 if input &gt; 5 else revert_me()

    fn revert_me() -&gt; u256:
        revert
        return 0
</code></pre>
<p>Previous to this change, the code above would <strong>always</strong> revert no matter
which branch of the ternary expressions it would resolve to. That is because
both sides were evaluated and then one side was discarded. With this change,
only the branch that doesn't get picked won't get evaluated at all.</p>
<p>The same is true for the boolean operations <code>and</code> and <code>or</code>. (<a href="https://github.com/ethereum/fe/issues/488">#488</a>)</p>
</li>
</ul>
<h3 id="internal-changes---for-fe-contributors"><a class="header" href="#internal-changes---for-fe-contributors">Internal Changes - for Fe Contributors</a></h3>
<ul>
<li>
<p>Added a globally available <em>dummy</em> std lib.</p>
<p>This library contains a single <code>get_42</code> function, which can be called using <code>std::get_42()</code>. Once 
low-level intrinsics have been added to the language, we can delete <code>get_42</code> and start adding 
useful code. (<a href="https://github.com/ethereum/fe/issues/601">#601</a>)</p>
</li>
</ul>
<h2 id="0110-alpha-karlite-2021-12-02"><a class="header" href="#0110-alpha-karlite-2021-12-02">0.11.0-alpha &quot;Karlite&quot; (2021-12-02)</a></h2>
<h3 id="features-2"><a class="header" href="#features-2">Features</a></h3>
<ul>
<li>
<p>Added support for multi-file inputs.</p>
<p><strong>Implementation details:</strong></p>
<p>Mostly copied Rust's crate system, but use the the term <em>ingot</em> instead of crate.</p>
<p>Below is an example of an ingot's file tree, as supported by the current implementation.</p>
<pre><code>`-- basic_ingot
    `-- src
        |-- bar
        |   `-- baz.fe
        |-- bing.fe
        |-- ding
        |   |-- dang.fe
        |   `-- dong.fe
        `-- main.fe
</code></pre>
<p>There are still a few features that will be worked on over the coming months:</p>
<ul>
<li>source files accompanying each directory module (e.g. <code>my_mod.fe</code>)</li>
<li>configuration files and the ability to create library ingots</li>
<li>test directories</li>
<li>module-level <code>pub</code> modifier (all items in a module are public)</li>
<li><code>mod</code> statements (all fe files in the input tree are public modules)</li>
</ul>
<p>These things will be implemented in order of importance over the next few months. (<a href="https://github.com/ethereum/fe/issues/562">#562</a>)</p>
</li>
<li>
<p>The syntax for array types has changed to match other generic types.
For example, <code>u8[4]</code> is now written <code>Array&lt;u8, 4&gt;</code>. (<a href="https://github.com/ethereum/fe/issues/571">#571</a>)</p>
</li>
<li>
<p>Functions can now be defined on struct types. Example:</p>
<pre><code>struct Point:
  x: u64
  y: u64

  # Doesn't take `self`. Callable as `Point.origin()`.
  # Note that the syntax for this will soon be changed to `Point::origin()`.
  pub fn origin() -&gt; Point:
    return Point(x=0, y=0)

  # Takes `self`. Callable on a value of type `Point`.
  pub fn translate(self, x: u64, y: u64):
    self.x += x
    self.y += y

  pub fn add(self, other: Point) -&gt; Point:
    let x: u64 = self.x + other.x
    let y: u64 = self.y + other.y
    return Point(x, y)

  pub fn hash(self) -&gt; u256:
    return keccak256(self.abi_encode())

pub fn do_pointy_things():
  let p1: Point = Point.origin()
  p1.translate(5, 10)

  let p2: Point = Point(x=1, y=2)
  let p3: Point = p1.add(p2)

  assert p3.x == 6 and p3.y == 12
``` ([#577](https://github.com/ethereum/fe/issues/577))


</code></pre>
</li>
</ul>
<h3 id="bugfixes-2"><a class="header" href="#bugfixes-2">Bugfixes</a></h3>
<ul>
<li>
<p>Fixed a rare compiler crash.</p>
<p>Example:</p>
<pre><code>let my_array: i256[1] = [-1 &lt;&lt; 1] 
</code></pre>
<p>Previous to this fix, the given example would lead to an ICE. (<a href="https://github.com/ethereum/fe/issues/550">#550</a>)</p>
</li>
<li>
<p>Contracts can now <code>create</code> an instance of a contract defined later in a file.
This issue was caused by a weakness in the way we generated yul. (<a href="https://github.com/ethereum/fe/issues/596">#596</a>)</p>
</li>
</ul>
<h3 id="internal-changes---for-fe-contributors-1"><a class="header" href="#internal-changes---for-fe-contributors-1">Internal Changes - for Fe Contributors</a></h3>
<ul>
<li>
<p>File IDs are now attached to <code>Span</code>s. (<a href="https://github.com/ethereum/fe/issues/587">#587</a>)</p>
</li>
<li>
<p>The fe analyzer now builds a dependency graph of source code &quot;items&quot; (functions, contracts, structs, etc).
This is used in the yulgen phase to determine which items are needed in the yul (intermediate representation)
output. Note that the yul output is still cluttered with utility functions that may or may not be needed by
a given contract. These utility functions are defined in the yulgen phase and aren't tracked in the dependency
graph, so it's not yet possible to filter out the unused functions. We plan to move the definition of many
of these utility functions into fe; when this happens they'll become part of the dependency graph and will only
be included in the yul output when needed.</p>
<p>The dependency graph will also enable future analyzer warnings about unused code. (<a href="https://github.com/ethereum/fe/issues/596">#596</a>)</p>
</li>
</ul>
<h2 id="0100-alpha-2021-10-31"><a class="header" href="#0100-alpha-2021-10-31">0.10.0-alpha (2021-10-31)</a></h2>
<h3 id="features-3"><a class="header" href="#features-3">Features</a></h3>
<ul>
<li>
<p>Support for module level constants for base types</p>
<p>Example:</p>
<pre><code>const TEN = 10

contract

  pub fn do_moon_math(self) -&gt; u256:
    return 4711 * TEN
</code></pre>
<p>The values of base type constants are always inlined. (<a href="https://github.com/ethereum/fe/issues/192">#192</a>)</p>
</li>
<li>
<p>Encode revert errors for ABI decoding as <code>Error(0x103)</code> not <code>Panic(0x99)</code> (<a href="https://github.com/ethereum/fe/issues/492">#492</a>)</p>
</li>
<li>
<p>Replaced <code>import</code> statements with <code>use</code> statements.</p>
<p>Example:</p>
<pre><code>use foo::{bar::*, baz as baz26}
</code></pre>
<p>Note: this only adds support for parsing <code>use</code> statements. (<a href="https://github.com/ethereum/fe/issues/547">#547</a>)</p>
</li>
<li>
<p>Functions can no be defined outside of contracts. Example:</p>
<pre><code>fn add_bonus(x: u256) -&gt; u256:
    return x + 10

contract PointTracker:
    points: Map&lt;address, u256&gt;

    pub fn add_points(self, user: address, val: u256):
        self.points[user] += add_bonus(val)
``` ([#566](https://github.com/ethereum/fe/issues/566))
</code></pre>
</li>
<li>
<p>Implemented a <code>send_value(to: address, value_in_wei: u256)</code> function.</p>
<p>The function is similar to the <a href="https://github.com/OpenZeppelin/openzeppelin-contracts/blob/5b28259dacf47fc208e03611eb3ba8eeaed63cc0/contracts/utils/Address.sol#L54-L59"><code>sendValue</code> function by OpenZeppelin</a> with the differences being that:</p>
<ol>
<li>
<p>It reverts with <code>Error(0x100)</code> instead of <code>Error(&quot;Address: insufficient balance&quot;)</code> to
safe more gas.</p>
</li>
<li>
<p>It uses <code>selfbalance()</code> instead of <code>balance(address())</code> to safe more gas</p>
</li>
<li>
<p>It reverts with <code>Error(0x101)</code> instead of <code>Error(&quot;Address: unable to send value, recipient may have reverted&quot;)</code> also to safe more gas. (<a href="https://github.com/ethereum/fe/issues/567">#567</a>)</p>
</li>
</ol>
</li>
<li>
<p>Added support for <code>unsafe</code> functions and <code>unsafe</code> blocks within functions.
Note that there's currently no functionality within Fe that requires the use
of <code>unsafe</code>, but we plan to add built-in <code>unsafe</code> functions that perform raw
evm operations which will only callable within an <code>unsafe</code> block or function. (<a href="https://github.com/ethereum/fe/issues/569">#569</a>)</p>
</li>
<li>
<p>Added <code>balance()</code> and <code>balance_of(account: address)</code> methods. (<a href="https://github.com/ethereum/fe/issues/572">#572</a>)</p>
</li>
<li>
<p>Added support for explicit casting between numeric types.</p>
<p>Example:</p>
<pre><code>let a: i8 = i8(-1)
let a1: i16 = i16(a)
let a2: u16 = u16(a1)

assert a2 == u16(65535)

let b: i8 = i8(-1)
let b1: u8 = u8(b)
let b2: u16 = u16(b1)

assert b2 == u16(255)
</code></pre>
<p>Notice that Fe allows casting between any two numeric types but does not allow
to change both the sign and the size of the type in one step as that would leave
room for ambiguity as the example above demonstrates. (<a href="https://github.com/ethereum/fe/issues/576">#576</a>)</p>
</li>
</ul>
<h3 id="bugfixes-3"><a class="header" href="#bugfixes-3">Bugfixes</a></h3>
<ul>
<li>
<p>Adjust numeric values loaded from memory or storage</p>
<p>Previous to this fix numeric values that were loaded from either memory or storage
were not properly loaded on the stack which could result in numeric values not
treated as intended.</p>
<p>Example:</p>
<pre><code>contract Foo:

    pub fn bar() -&gt; i8:
        let in_memory: i8[1] = [-3]
        return in_memory[0]
</code></pre>
<p>In the example above <code>bar()</code> would not return <code>-3</code> but <code>253</code> instead. (<a href="https://github.com/ethereum/fe/issues/524">#524</a>)</p>
</li>
<li>
<p>Propagate reverts from external contract calls.</p>
<p>Before this fix the following code to <code>should_revert()</code> or <code>should_revert2()</code>
would succeed even though it clearly should not.</p>
<pre><code>contract A:
  contract_b: B
  pub fn __init__(contract_b: address):
    self.contract_b = B(contract_b)

  pub fn should_revert():
    self.contract_b.fail()

  pub fn should_revert2():
    self.contract_b.fail_with_custom_error()

struct SomeError:
  pass

contract B:

  pub fn fail():
    revert

  pub fn fail_with_custom_error():
    revert SomeError()
</code></pre>
<p>With this fix the revert errors are properly passed upwards the call hierachy. (<a href="https://github.com/ethereum/fe/issues/574">#574</a>)</p>
</li>
<li>
<p>Fixed bug in left shift operation.</p>
<p>Example:</p>
<p>Let's consider the value <code>1</code> as an <code>u8</code> which is represented as
the following 256 bit item on the EVM stack <code>00..|00000001|</code>.
A left shift of <code>8</code> bits (<code>val &lt;&lt; 8</code>) turns that into <code>00..01|00000000|</code>.</p>
<p>Previous to this fix this resulted in the compiler taking <code>256</code> as the
value for the <code>u8</code> when clearly <code>256</code> is not even in the range of <code>u8</code>
anymore. With this fix the left shift operations was fixed to properly
&quot;clean up&quot; the result of the shift so that <code>00..01|00000000|</code> turns into
<code>00..00|00000000|</code>. (<a href="https://github.com/ethereum/fe/issues/575">#575</a>)</p>
</li>
<li>
<p>Ensure negation is checked and reverts with over/underflow if needed.</p>
<p>Example:</p>
<p>The minimum value for an <code>i8</code> is <code>-128</code> but the maximum value of an <code>i8</code>
is <code>127</code> which means that negating <code>-128</code> should lead to an overflow since
<code>128</code> does not fit into an <code>i8</code>. Before this fix, negation operations where
not checked for over/underflow resulting in returning the oversized value. (<a href="https://github.com/ethereum/fe/issues/578">#578</a>)</p>
</li>
</ul>
<h3 id="internal-changes---for-fe-contributors-2"><a class="header" href="#internal-changes---for-fe-contributors-2">Internal Changes - for Fe Contributors</a></h3>
<ul>
<li>
<p>In the analysis stage, all name resolution (of variable names, function names,
type names, etc used in code) now happens via a single <code>resolve_name</code> pathway,
so we can catch more cases of name collisions and log more helpful error messages. (<a href="https://github.com/ethereum/fe/issues/555">#555</a>)</p>
</li>
<li>
<p>Added a new category of tests: differential contract testing.</p>
<p>Each of these tests is pased on a pair of contracts where one implementation
is written in Fe and the other one is written in Solidity. The implementations
should have the same public APIs and are assumed to always return identical
results given equal inputs. The inputs are randomly generated using <code>proptest</code>
and hence are expected to discover unknown bugs. (<a href="https://github.com/ethereum/fe/issues/578">#578</a>)</p>
</li>
</ul>
<h2 id="090-alpha-2021-09-29"><a class="header" href="#090-alpha-2021-09-29">0.9.0-alpha (2021-09-29)</a></h2>
<h3 id="features-4"><a class="header" href="#features-4">Features</a></h3>
<ul>
<li>
<p>The <code>self</code> variable is no longer implicitly defined in code blocks. It must now be declared
as the first parameter in a function signature.</p>
<p>Example:</p>
<pre><code>contract Foo:
    my_stored_num: u256

    pub fn bar(self, my_num: u256):
        self.my_stored_num = my_num
      
    pub fn baz(self):
        self.bar(my_pure_func())
      
    pub fn my_pure_func() -&gt; u256:
        return 42 + 26
``` ([#520](https://github.com/ethereum/fe/issues/520))
</code></pre>
</li>
<li>
<p>The analyzer now disallows defining a type, variable, or function whose
name conflicts with a built-in type, function, or object.</p>
<p>Example:</p>
<pre><code>error: type name conflicts with built-in type
‚îå‚îÄ compile_errors/shadow_builtin_type.fe:1:6
‚îÇ
1 ‚îÇ type u256 = u8
‚îÇ      ^^^^ `u256` is a built-in type
``` ([#539](https://github.com/ethereum/fe/issues/539))


</code></pre>
</li>
</ul>
<h3 id="bugfixes-4"><a class="header" href="#bugfixes-4">Bugfixes</a></h3>
<ul>
<li>Fixed cases where the analyzer would correctly reject code, but would panic instead of logging an error message. (<a href="https://github.com/ethereum/fe/issues/534">#534</a>)</li>
<li>Non-fatal parser errors (eg missing parentheses when defining a function that takes no arguments: <code>fn foo:</code>)
are no longer ignored if the semantic analysis stage succeeds. (<a href="https://github.com/ethereum/fe/issues/535">#535</a>)</li>
<li>Fixed issue #531 by adding a <code>$</code> to the front of lowered tuple names. (<a href="https://github.com/ethereum/fe/issues/546">#546</a>)</li>
</ul>
<h3 id="internal-changes---for-fe-contributors-3"><a class="header" href="#internal-changes---for-fe-contributors-3">Internal Changes - for Fe Contributors</a></h3>
<ul>
<li>Implemented pretty printing of Fe AST. (<a href="https://github.com/ethereum/fe/issues/540">#540</a>)</li>
</ul>
<h2 id="080-alpha-haxonite-2021-08-31"><a class="header" href="#080-alpha-haxonite-2021-08-31">0.8.0-alpha &quot;Haxonite&quot; (2021-08-31)</a></h2>
<h3 id="features-5"><a class="header" href="#features-5">Features</a></h3>
<ul>
<li>
<p>Support quotes, tabs and carriage returns in string literals and otherwise
restrict string literals to the printable subset of the ASCII table. (<a href="https://github.com/ethereum/fe/issues/329">#329</a>)</p>
</li>
<li>
<p>The analyzer now uses a query-based system, which fixes some shortcomings of the previous implementation.</p>
<ul>
<li>Types can now refer to other types defined later in the file.
Example:</li>
</ul>
<pre><code>type Posts = Map&lt;PostId, PostBody&gt;
type PostId = u256
type PostBody = String&lt;140&gt;
</code></pre>
<ul>
<li>Duplicate definition errors now show the location of the original definition.</li>
<li>The analysis of each function, type definition, etc happens independently, so an error in one
doesn't stop the analysis pass. This means fe can report more user errors in a single run of the compiler. (<a href="https://github.com/ethereum/fe/issues/468">#468</a>)</li>
</ul>
</li>
<li>
<p>Function definitions are now denoted with the keyword fn instead of def. (<a href="https://github.com/ethereum/fe/issues/496">#496</a>)</p>
</li>
<li>
<p>Variable declarations are now preceded by the <code>let</code> keyword. Example: <code>let x: u8 = 1</code>. (<a href="https://github.com/ethereum/fe/issues/509">#509</a>)</p>
</li>
<li>
<p>Implemented support for numeric unary invert operator (<code>~</code>) (<a href="https://github.com/ethereum/fe/issues/526">#526</a>)</p>
</li>
</ul>
<h3 id="bugfixes-5"><a class="header" href="#bugfixes-5">Bugfixes</a></h3>
<ul>
<li>
<p>Calling <code>self.__init__()</code> now results in a nice error instead of a panic in the yul compilation stage. (<a href="https://github.com/ethereum/fe/issues/468">#468</a>)</p>
</li>
<li>
<p>Fixed an issue where certain expressions were not being moved to the correct location. (<a href="https://github.com/ethereum/fe/issues/493">#493</a>)</p>
</li>
<li>
<p>Fixed an issue with a missing return statement not properly detected.</p>
<p>Previous to this fix, the following code compiles but it should not:</p>
<pre><code>contract Foo:
    pub fn bar(val: u256) -&gt; u256:
        if val &gt; 1:
            return 5
</code></pre>
<p>With this change, the compiler rightfully detects that the code is missing
a <code>return</code> or <code>revert</code> statement after the <code>if</code> statement since it is not
guaranteed that the path of execution always follows the arm of the <code>if</code> statement. (<a href="https://github.com/ethereum/fe/issues/497">#497</a>)</p>
</li>
<li>
<p>Fixed a bug in the analyzer which allowed tuple item accessor names with a leading 0,
resulting in an internal compiler error in a later pass. Example: <code>my_tuple.item001</code>.
These are now rejected with an error message. (<a href="https://github.com/ethereum/fe/issues/510">#510</a>)</p>
</li>
<li>
<p>Check call argument labels for function calls.</p>
<p>Previously the compiler would not check any labels that were used
when making function calls on <code>self</code> or external contracts.</p>
<p>This can be especially problematic if gives developers the impression
that they could apply function arguments in any order as long as they
are named which is <strong>not</strong> the case. </p>
<pre><code>contract Foo:

    pub fn baz():
        self.bar(val2=1, doesnt_even_exist=2)
  
    pub fn bar(val1: u256, val2: u256):
        pass
</code></pre>
<p>Code as the one above is now rightfully rejected by the compiler. (<a href="https://github.com/ethereum/fe/issues/517">#517</a>)</p>
</li>
</ul>
<h3 id="improved-documentation"><a class="header" href="#improved-documentation">Improved Documentation</a></h3>
<ul>
<li>
<p>Various improvements and bug fixes to both the content and layout of the specification. (<a href="https://github.com/ethereum/fe/issues/489">#489</a>)</p>
</li>
<li>
<p>Document all remaining statements and expressions in the spec.</p>
<p>Also added a CI check to ensure code examples in the documentation
are validated against the latest compiler. (<a href="https://github.com/ethereum/fe/issues/514">#514</a>)</p>
</li>
</ul>
<h3 id="internal-changes---for-fe-contributors-4"><a class="header" href="#internal-changes---for-fe-contributors-4">Internal Changes - for Fe Contributors</a></h3>
<ul>
<li>Separated Fe type traits between crates. (<a href="https://github.com/ethereum/fe/issues/485">#485</a>)</li>
</ul>
<h2 id="070-alpha-galaxite-2021-07-27"><a class="header" href="#070-alpha-galaxite-2021-07-27">0.7.0-alpha &quot;Galaxite&quot; (2021-07-27)</a></h2>
<h3 id="features-6"><a class="header" href="#features-6">Features</a></h3>
<ul>
<li>
<p>Enable the optimizer by default. The optimizer can still be disabled
by supplying <code>--optimize=false</code> as an argument. (<a href="https://github.com/ethereum/fe/issues/439">#439</a>)</p>
</li>
<li>
<p>The following checks are now performed while decoding data:</p>
<ul>
<li>The size of the encoded data fits within the size range known at compile-time.</li>
<li>Values are correctly padded.
<ul>
<li>unsigned integers, addresses, and bools are checked to have correct left zero padding</li>
<li>the size of signed integers are checked</li>
<li>bytes and strings are checked to have correct right padding</li>
</ul>
</li>
<li>Data section offsets are consistent with the size of preceding values in the data section.</li>
<li>The dynamic size of strings does not exceed their maximum size.</li>
<li>The dynamic size of byte arrays (<code>u8[n]</code>) is equal to the size of the array. (<a href="https://github.com/ethereum/fe/issues/440">#440</a>)</li>
</ul>
</li>
<li>
<p>Type aliases can now include tuples. Example:</p>
<pre><code>type InternetPoints = (address, u256)
</code></pre>
<p>(<a href="https://github.com/ethereum/fe/issues/459">#459</a>)</p>
</li>
<li>
<p>Revert with custom errors</p>
<p>Example:</p>
<pre><code>struct PlatformError:
  code: u256

pub fn do_something():
  revert PlatformError(code=4711)
</code></pre>
<p>Error encoding <a href="https://docs.soliditylang.org/en/v0.8.4/abi-spec.html#errors">follows Solidity</a> which is based on <a href="https://github.com/ethereum/EIPs/issues/838">EIP-838</a>. This means that custom errors returned from Fe are fully compatible with Solidity. (<a href="https://github.com/ethereum/fe/issues/464">#464</a>)</p>
</li>
<li>
<ul>
<li>The builtin value <code>msg.sig</code> now has type <code>u256</code>.</li>
<li>Removed the <code>bytes[n]</code> type. The type <code>u8[n]</code> can be used in its placed and will be encoded as a dynamically-sized, but checked, bytes component. (<a href="https://github.com/ethereum/fe/issues/472">#472</a>)</li>
</ul>
</li>
<li>
<p>Encode certain reverts as panics.</p>
<p>With this change, the following reverts are encoded as <code>Panic(uint256)</code> with
the following panic codes:</p>
<ul>
<li><code>0x01</code>: An assertion that failed and did not specify an error message</li>
<li><code>0x11</code>: An arithmetic expression resulted in an over- or underflow</li>
<li><code>0x12</code>: An arithmetic expression divided or modulo by zero</li>
</ul>
<p>The panic codes are aligned with <a href="https://docs.soliditylang.org/en/v0.8.4/control-structures.html?highlight=Panic#panic-via-assert-and-error-via-require">the panic codes that Solidity uses</a>. (<a href="https://github.com/ethereum/fe/issues/476">#476</a>)</p>
</li>
</ul>
<h3 id="bugfixes-6"><a class="header" href="#bugfixes-6">Bugfixes</a></h3>
<ul>
<li>
<p>Fixed a crash when trying to access an invalid attribute on a string.</p>
<p>Example:</p>
<pre><code>contract Foo:

  pub fn foo():
    &quot;&quot;.does_not_exist
</code></pre>
<p>The above now yields a proper user error. (<a href="https://github.com/ethereum/fe/issues/444">#444</a>)</p>
</li>
<li>
<p>Ensure <code>String&lt;N&gt;</code> type is capitalized in error messages (<a href="https://github.com/ethereum/fe/issues/445">#445</a>)</p>
</li>
<li>
<p>Fixed ICE when using a static string that spans over multiple lines.</p>
<p>Previous to this fix, the following code would lead to a compiler crash:</p>
<pre><code>contract Foo:
    pub fn return_with_newline() -&gt; String&lt;16&gt;:
        return &quot;foo
        balu&quot;
</code></pre>
<p>The above code now works as intended. (<a href="https://github.com/ethereum/fe/issues/448">#448</a>)</p>
</li>
<li>
<p>Fixed ICE when using a tuple declaration and specifying a non-tuple type.
Fixed a second ICE when using a tuple declaration where the number of
target items doesn't match the number of items in the declared type. (<a href="https://github.com/ethereum/fe/issues/469">#469</a>)</p>
</li>
</ul>
<h3 id="internal-changes---for-fe-contributors-5"><a class="header" href="#internal-changes---for-fe-contributors-5">Internal Changes - for Fe Contributors</a></h3>
<ul>
<li>
<ul>
<li>Cleaned up ABI encoding internals.</li>
<li>Improved yulc panic formatting. (<a href="https://github.com/ethereum/fe/issues/472">#472</a>)</li>
</ul>
</li>
</ul>
<h2 id="060-alpha-feldspar-2021-06-10"><a class="header" href="#060-alpha-feldspar-2021-06-10">0.6.0-alpha &quot;Feldspar&quot; (2021-06-10)</a></h2>
<h3 id="features-7"><a class="header" href="#features-7">Features</a></h3>
<ul>
<li>
<p>Support for <code>pragma</code> statement</p>
<p>Example: <code>pragma ^0.1.0</code> (<a href="https://github.com/ethereum/fe/issues/361">#361</a>)</p>
</li>
<li>
<p>Add support for tuple destructuring</p>
<p>Example:</p>
<pre><code>my_tuple: (u256, bool) = (42, true)
(x, y): (u256, bool) = my_tuple
</code></pre>
<p>(<a href="https://github.com/ethereum/fe/issues/376">#376</a>)</p>
</li>
<li>
<ol>
<li>Call expression can now accept generic arguments</li>
<li>Replace <code>stringN</code> to <code>String&lt;N&gt;</code></li>
</ol>
<p>Example:</p>
<pre><code>s: String&lt;10&gt; = String&lt;10&gt;(&quot;HI&quot;)
</code></pre>
<p>(<a href="https://github.com/ethereum/fe/issues/379">#379</a>)</p>
</li>
<li>
<ul>
<li>Many analyzer errors now include helpful messages and underlined code.</li>
<li>Event and struct constructor arguments must now be labeled and in the order specified in the definition.</li>
<li>The analyzer now verifies that the left-hand side of an assignment is actually assignable. (<a href="https://github.com/ethereum/fe/issues/398">#398</a>)</li>
</ul>
</li>
<li>
<p>Types of integer literal are now inferred, rather than defaulting to <code>u256</code>.</p>
<pre><code>contract C:

  fn f(x: u8) -&gt; u16:
    y: u8 = 100   # had to use u8(100) before
    z: i8 = -129  # &quot;literal out of range&quot; error

    return 1000   # had to use `return u16(1000)` before

  fn g():
    self.f(50)
</code></pre>
<p>Similar inference is done for empty array literals. Previously, empty array
literals caused a compiler crash, because the array element type couldn't
be determined.</p>
<pre><code>contract C:
  fn f(xs: u8[10]):
    pass

  fn g():
    self.f([])
</code></pre>
<p>(Note that array length mismatch is still a type error, so this code won't
actually compile.) (<a href="https://github.com/ethereum/fe/issues/429">#429</a>)</p>
</li>
<li>
<p>The Map type name is now capitalized. Example:</p>
<pre><code>contract GuestBook:
    guests: Map&lt;address, String&lt;100&gt;&gt;
</code></pre>
<p>(<a href="https://github.com/ethereum/fe/issues/431">#431</a>)</p>
</li>
<li>
<p>Convert all remaining errors to use the new advanced error reporting system (<a href="https://github.com/ethereum/fe/issues/432">#432</a>)</p>
</li>
<li>
<p>Analyzer throws an error if <code>__init__</code> is not public. (<a href="https://github.com/ethereum/fe/issues/435">#435</a>)</p>
</li>
</ul>
<h3 id="internal-changes---for-fe-contributors-6"><a class="header" href="#internal-changes---for-fe-contributors-6">Internal Changes - for Fe Contributors</a></h3>
<ul>
<li>Refactored front-end &quot;not implemented&quot; errors into analyzer errors and removed questionable variants. Any panic is now considered to be a bug. (<a href="https://github.com/ethereum/fe/issues/437">#437</a>)</li>
</ul>
<h2 id="050-alpha-2021-05-27"><a class="header" href="#050-alpha-2021-05-27">0.5.0-alpha (2021-05-27)</a></h2>
<h3 id="features-8"><a class="header" href="#features-8">Features</a></h3>
<ul>
<li>
<p>Add support for hexadecimal/octal/binary numeric literals.</p>
<p>Example:</p>
<pre><code>value_hex: u256 = 0xff
value_octal: u256 = 0o77
value_binary: u256 = 0b11
</code></pre>
<p>(<a href="https://github.com/ethereum/fe/issues/333">#333</a>)</p>
</li>
<li>
<p>Added support for list expressions.</p>
<p>Example:</p>
<pre><code>values: u256[3] = [10, 20, 30]

# or anywhere else where expressions can be used such as in a call

sum: u256 = self.sum([10, 20, 30])
</code></pre>
<p>(<a href="https://github.com/ethereum/fe/issues/388">#388</a>)</p>
</li>
<li>
<p>Contracts, events, and structs can now be empty.</p>
<p>e.g.</p>
<pre><code>event MyEvent:
    pass

...
  
contract MyContract:
    pass
 
...
  
struct MyStruct:
    pass
</code></pre>
<p>(<a href="https://github.com/ethereum/fe/issues/406">#406</a>)</p>
</li>
<li>
<p>External calls can now handle dynamically-sized return types. (<a href="https://github.com/ethereum/fe/issues/415">#415</a>)</p>
</li>
</ul>
<h3 id="bugfixes-7"><a class="header" href="#bugfixes-7">Bugfixes</a></h3>
<ul>
<li>The analyzer will return an error if a tuple attribute is not of the form <code>item&lt;index&gt;</code>. (<a href="https://github.com/ethereum/fe/issues/401">#401</a>)</li>
</ul>
<h3 id="improved-documentation-1"><a class="header" href="#improved-documentation-1">Improved Documentation</a></h3>
<ul>
<li>Created a landing page for Fe at https://fe-lang.org (<a href="https://github.com/ethereum/fe/issues/394">#394</a>)</li>
<li>Provide a Quickstart chapter in Fe Guide (<a href="https://github.com/ethereum/fe/issues/403">#403</a>)</li>
</ul>
<h3 id="internal-changes---for-fe-contributors-7"><a class="header" href="#internal-changes---for-fe-contributors-7">Internal Changes - for Fe Contributors</a></h3>
<ul>
<li>
<p>Using insta to validate Analyzer outputs. (<a href="https://github.com/ethereum/fe/issues/387">#387</a>)</p>
</li>
<li>
<p>Analyzer now disallows using <code>context.add_</code> methods to update attributes. (<a href="https://github.com/ethereum/fe/issues/392">#392</a>)</p>
</li>
<li>
<p><code>()</code> now represents a distinct type internally called the unit type, instead of an empty tuple.</p>
<p>The lowering pass now does the following: Valueless return statements are given a <code>()</code> value and 
functions without a return value are given explicit <code>()</code> returns. (<a href="https://github.com/ethereum/fe/issues/406">#406</a>)</p>
</li>
<li>
<p>Add CI check to ensure fragment files always end with a new line (<a href="https://github.com/ethereum/fe/issues/4711">#4711</a>)</p>
</li>
</ul>
<h2 id="040-alpha-2021-04-28"><a class="header" href="#040-alpha-2021-04-28">0.4.0-alpha (2021-04-28)</a></h2>
<h3 id="features-9"><a class="header" href="#features-9">Features</a></h3>
<ul>
<li>
<p>Support for revert messages in assert statements</p>
<p>E.g</p>
<pre><code>assert a == b, &quot;my revert statement&quot;
</code></pre>
<p>The provided string is abi-encoded as if it were a call
to a function <code>Error(string)</code>. For example, the revert string <code>&quot;Not enough Ether provided.&quot;</code> returns the following hexadecimal as error return data:</p>
<pre><code>0x08c379a0                                                         // Function selector for Error(string)
0x0000000000000000000000000000000000000000000000000000000000000020 // Data offset
0x000000000000000000000000000000000000000000000000000000000000001a // String length
0x4e6f7420656e6f7567682045746865722070726f76696465642e000000000000 // String data
</code></pre>
<p>(<a href="https://github.com/ethereum/fe/issues/288">#288</a>)</p>
</li>
<li>
<p>Added support for augmented assignments.</p>
<p>e.g.</p>
<pre><code>contract Foo:
    pub fn add(a: u256, b: u256) -&gt; u256:
        a += b
        return a

    pub fn sub(a: u256, b: u256) -&gt; u256:
        a -= b
        return a

    pub fn mul(a: u256, b: u256) -&gt; u256:
        a *= b
        return a

    pub fn div(a: u256, b: u256) -&gt; u256:
        a /= b
        return a

    pub fn mod(a: u256, b: u256) -&gt; u256:
        a %= b
        return a

    pub fn pow(a: u256, b: u256) -&gt; u256:
        a **= b
        return a

    pub fn lshift(a: u8, b: u8) -&gt; u8:
        a &lt;&lt;= b
        return a

    pub fn rshift(a: u8, b: u8) -&gt; u8:
        a &gt;&gt;= b
        return a

    pub fn bit_or(a: u8, b: u8) -&gt; u8:
        a |= b
        return a

    pub fn bit_xor(a: u8, b: u8) -&gt; u8:
        a ^= b
        return a

    pub fn bit_and(a: u8, b: u8) -&gt; u8:
        a &amp;= b
        return a
</code></pre>
<p>(<a href="https://github.com/ethereum/fe/issues/338">#338</a>)</p>
</li>
<li>
<p>A new parser implementation, which provides more helpful error messages
with fancy underlines and code context. (<a href="https://github.com/ethereum/fe/issues/346">#346</a>)</p>
</li>
<li>
<p>Added support for tuples with base type items.</p>
<p>e.g.</p>
<pre><code>contract Foo:
    my_num: u256

    pub fn bar(my_num: u256, my_bool: bool) -&gt; (u256, bool):
        my_tuple: (u256, bool) = (my_num, my_bool)
        self.my_num = my_tuple.item0
        return my_tuple
</code></pre>
<p>(<a href="https://github.com/ethereum/fe/issues/352">#352</a>)</p>
</li>
</ul>
<h3 id="bugfixes-8"><a class="header" href="#bugfixes-8">Bugfixes</a></h3>
<ul>
<li>
<p>Properly reject invalid emit (<a href="https://github.com/ethereum/fe/issues/211">#211</a>)</p>
</li>
<li>
<p>Properly tokenize numeric literals when they start with 0 (<a href="https://github.com/ethereum/fe/issues/331">#331</a>)</p>
</li>
<li>
<p>Reject non-string assert reasons as type error (<a href="https://github.com/ethereum/fe/issues/335">#335</a>)</p>
</li>
<li>
<p>Properly reject code that creates a circular dependency when using <code>create</code> or <code>create2</code>.</p>
<p>Example, the following code is now rightfully rejected because it tries to create an
instance of <code>Foo</code> from within the <code>Foo</code> contract itself.</p>
<pre><code>contract Foo:
  pub fn bar()-&gt;address:
    foo:Foo=Foo.create(0)

    return address(foo)
</code></pre>
<p>(<a href="https://github.com/ethereum/fe/issues/362">#362</a>)</p>
</li>
</ul>
<h3 id="internal-changes---for-fe-contributors-8"><a class="header" href="#internal-changes---for-fe-contributors-8">Internal Changes - for Fe Contributors</a></h3>
<ul>
<li>AST nodes use <code>String</code>s instead of <code>&amp;str</code>s. This way we can perform incremental compilation on the AST. (<a href="https://github.com/ethereum/fe/issues/332">#332</a>)</li>
<li>Added support for running tests against solidity fixtures.
Also added tests that cover how solidity encodes revert reason strings. (<a href="https://github.com/ethereum/fe/issues/342">#342</a>)</li>
<li>Refactoring of binary operation type checking. (<a href="https://github.com/ethereum/fe/issues/347">#347</a>)</li>
</ul>
<h2 id="030-alpha-calamine-2021-03-24"><a class="header" href="#030-alpha-calamine-2021-03-24">0.3.0-alpha &quot;Calamine&quot; (2021-03-24)</a></h2>
<h3 id="features-10"><a class="header" href="#features-10">Features</a></h3>
<ul>
<li>
<p>Add over/underflow checks for multiplications of all integers (<a href="https://github.com/ethereum/fe/issues/271">#271</a>)</p>
</li>
<li>
<p>Add full support for empty Tuples. (<a href="https://github.com/ethereum/fe/issues/276">#276</a>)</p>
<p>All functions in Fe implicitly return an empty Tuple if they have no other return value.
However, before this change one was not able to use the empty Tuple syntax <code>()</code> explicitly.</p>
<p>With this change, all of these are treated equally:</p>
<pre><code>contract Foo:

  pub fn explicit_return_a1():
    return

  pub fn explicit_return_a2():
    return ()

  pub fn explicit_return_b1() -&gt;():
    return

  pub fn explicit_return_b2() -&gt;():
    return ()

  pub fn implicit_a1():
    pass

  pub fn implicit_a2() -&gt;():
    pass
</code></pre>
</li>
<li>
<p>The JSON ABI builder now supports structs as both input and output. (<a href="https://github.com/ethereum/fe/issues/296">#296</a>)</p>
</li>
<li>
<p>Make subsequently defined contracts visible.</p>
<p>Before this change:</p>
<pre><code># can't see Bar
contract Foo:
   ...
# can see Foo
contract Bar:
   ...
</code></pre>
<p>With this change the restriction is lifted and the following becomes possible. (<a href="https://github.com/ethereum/fe/issues/298">#298</a>)</p>
<pre><code>contract Foo:
    bar: Bar
    pub fn external_bar() -&gt; u256:
        return self.bar.bar()
contract Bar:
    foo: Foo
    pub fn external_foo() -&gt; u256:
        return self.foo.foo()
</code></pre>
</li>
<li>
<p>Perform checks for divison operations on integers (<a href="https://github.com/ethereum/fe/issues/308">#308</a>)</p>
</li>
<li>
<p>Support for msg.sig to read the function identifier. (<a href="https://github.com/ethereum/fe/issues/311">#311</a>)</p>
</li>
<li>
<p>Perform checks for modulo operations on integers (<a href="https://github.com/ethereum/fe/issues/312">#312</a>)</p>
</li>
<li>
<p>Perform over/underflow checks for exponentiation operations on integers (<a href="https://github.com/ethereum/fe/issues/313">#313</a>)</p>
</li>
</ul>
<h3 id="bugfixes-9"><a class="header" href="#bugfixes-9">Bugfixes</a></h3>
<ul>
<li>
<p>Properly reject <code>emit</code> not followed by an event invocation (<a href="https://github.com/ethereum/fe/issues/212">#212</a>)</p>
</li>
<li>
<p>Properly reject octal number literals (<a href="https://github.com/ethereum/fe/issues/222">#222</a>)</p>
</li>
<li>
<p>Properly reject code that tries to emit a non-existing event. (<a href="https://github.com/ethereum/fe/issues/250">#250</a>)</p>
<p>Example that now produces a compile time error:</p>
<pre><code>emit DoesNotExist()
</code></pre>
</li>
<li>
<p>Contracts that create other contracts can now include <code>__init__</code> functions.</p>
<p>See https://github.com/ethereum/fe/issues/284 (<a href="https://github.com/ethereum/fe/issues/304">#304</a>)</p>
</li>
<li>
<p>Prevent multiple types with same name in one module. (<a href="https://github.com/ethereum/fe/issues/317">#317</a>)</p>
<p>Examples that now produce compile time errors:</p>
<pre><code>type bar = u8
type bar = u16
</code></pre>
<p>or</p>
<pre><code>struct SomeStruct:
    some_field: u8

struct SomeStruct:
    other: u8
</code></pre>
<p>or</p>
<pre><code>contract SomeContract:
    some_field: u8

contract SomeContract:
    other: u8
</code></pre>
<p>Prevent multiple fields with same name in one struct.</p>
<p>Example that now produces a compile time error:</p>
<pre><code>struct SomeStruct:
    some_field: u8
    some_field: u8
</code></pre>
<p>Prevent variable definition in child scope when name already taken in parent scope.</p>
<p>Example that now produces a compile time error:</p>
<pre><code>pub fn bar():
    my_array: u256[3]
    sum: u256 = 0
    for i in my_array:
        sum: u256 = 0
</code></pre>
</li>
<li>
<p>The CLI was using the overwrite flag to enable Yul optimization.</p>
<p>i.e.</p>
<pre><code># Would both overwrite output files and run the Yul optimizer. 
$ fe my_contract.fe --overwrite
</code></pre>
<p>Using the overwrite flag now only overwrites and optimization is enabled with the optimize flag. (<a href="https://github.com/ethereum/fe/issues/320">#320</a>)</p>
</li>
<li>
<p>Ensure analyzer rejects code that uses return values for <code>__init__</code> functions. (<a href="https://github.com/ethereum/fe/issues/323">#323</a>)</p>
<p>An example that now produces a compile time error:</p>
<pre><code>contract C:
    pub fn __init__() -&gt; i32:
        return 0
</code></pre>
</li>
<li>
<p>Properly reject calling an undefined function on an external contract (<a href="https://github.com/ethereum/fe/issues/324">#324</a>)</p>
</li>
</ul>
<h3 id="internal-changes---for-fe-contributors-9"><a class="header" href="#internal-changes---for-fe-contributors-9">Internal Changes - for Fe Contributors</a></h3>
<ul>
<li>Added the Uniswap demo contracts to our testing fixtures and validated their behaviour. (<a href="https://github.com/ethereum/fe/issues/179">#179</a>)</li>
<li>IDs added to AST nodes. (<a href="https://github.com/ethereum/fe/issues/315">#315</a>)</li>
<li>Failures in the Yul generation phase now panic; any failure is a bug. (<a href="https://github.com/ethereum/fe/issues/327">#327</a>)</li>
</ul>
<h2 id="020-alpha-borax-2021-02-27"><a class="header" href="#020-alpha-borax-2021-02-27">0.2.0-alpha &quot;Borax&quot; (2021-02-27)</a></h2>
<h3 id="features-11"><a class="header" href="#features-11">Features</a></h3>
<ul>
<li>
<p>Add support for string literals.</p>
<p>Example:</p>
<pre><code>fn get_ticker_symbol() -&gt; string3:
    return &quot;ETH&quot;
</code></pre>
<p>String literals are stored in and loaded from the compiled bytecode. (<a href="https://github.com/ethereum/fe/issues/186">#186</a>)</p>
</li>
<li>
<p>The CLI now compiles every contract in a module, not just the first one. (<a href="https://github.com/ethereum/fe/issues/197">#197</a>)</p>
<p>Sample compiler output with all targets enabled:</p>
<pre><code>output
|-- Bar
|   |-- Bar.bin
|   |-- Bar_abi.json
|   `-- Bar_ir.yul
|-- Foo
|   |-- Foo.bin
|   |-- Foo_abi.json
|   `-- Foo_ir.yul
|-- module.ast
`-- module.tokens
</code></pre>
</li>
<li>
<p>Add support for string type casts (<a href="https://github.com/ethereum/fe/issues/201">#201</a>)</p>
<p>Example:</p>
<pre><code>val: string100 = string100(&quot;foo&quot;)
</code></pre>
</li>
<li>
<p>Add basic support for structs. (<a href="https://github.com/ethereum/fe/issues/203">#203</a>)</p>
<p>Example:</p>
<pre><code>struct House:
    price: u256
    size: u256
    vacant: bool

contract City:

    pub fn get_price() -&gt; u256:
        building: House = House(300, 500, true)

        assert building.size == 500
        assert building.price == 300
        assert building.vacant

        return building.price
</code></pre>
</li>
<li>
<p>Added support for external contract calls. Contract definitions now 
add a type to the module scope, which may be used to create contract 
values with the contract's public functions as callable attributes. (<a href="https://github.com/ethereum/fe/issues/204">#204</a>)</p>
<p>Example:</p>
<pre><code class="language-python">contract Foo:
    pub fn build_array(a: u256, b: u256) -&gt; u256[3]:
        my_array: u256[3]
        my_array[0] = a
        my_array[1] = a * b
        my_array[2] = b
        return my_array

contract FooProxy:
    pub fn call_build_array(
        foo_address: address,
        a: u256,
        b: u256,
    ) -&gt; u256[3]:
        foo: Foo = Foo(foo_address)
        return foo.build_array(a, b)
</code></pre>
</li>
<li>
<p>Add support for <code>block</code>, <code>msg</code>, <code>chain</code>, and <code>tx</code> properties: (<a href="https://github.com/ethereum/fe/issues/208">#208</a>)</p>
<pre><code>block.coinbase: address
block.difficulty: u256
block.number: u256
block.timestamp: u256
chain.id: u256
msg.value: u256
tx.gas_price: u256
tx.origin: address
</code></pre>
<p>(Note that <code>msg.sender: address</code> was added previously.)</p>
<p>Example:</p>
<pre><code>fn post_fork() -&gt; bool:
    return block.number &gt; 2675000
</code></pre>
</li>
<li>
<p>The CLI now panics if an error is encountered during Yul compilation. (<a href="https://github.com/ethereum/fe/issues/218">#218</a>)</p>
</li>
<li>
<p>Support for contract creations.</p>
<p>Example of <code>create2</code>, which takes a <code>value</code> and address <code>salt</code> as parameters.</p>
<pre><code>contract Foo:
    pub fn get_my_num() -&gt; u256:
        return 42

contract FooFactory:
    pub fn create2_foo() -&gt; address:
        # value and salt
        foo: Foo = Foo.create2(0, 52)
        return address(foo)
</code></pre>
<p>Example of <code>create</code>, which just takes a <code>value</code> parameter.</p>
<pre><code>contract Foo:
    pub fn get_my_num() -&gt; u256:
        return 42

contract FooFactory:
    pub fn create_foo() -&gt; address:
        # value and salt
        foo: Foo = Foo.create(0)
        return address(foo)
</code></pre>
<p><em>Note: We do not yet support init parameters.</em> (<a href="https://github.com/ethereum/fe/issues/239">#239</a>)</p>
</li>
<li>
<p>Support updating individual struct fields in storage. (<a href="https://github.com/ethereum/fe/issues/246">#246</a>)</p>
<p>Example:</p>
<pre><code> pub fn update_house_price(price: u256):
        self.my_house.price = price
</code></pre>
</li>
<li>
<p>Implement global <code>keccak256</code> method. The method expects one parameter of <code>bytes[n]</code>
and returns the hash as an <code>u256</code>. In a future version <code>keccak256</code> will most likely
be moved behind an import so that it has to be imported (e.g. <code>from std.crypto import keccak256</code>). (<a href="https://github.com/ethereum/fe/issues/255">#255</a>)</p>
<p>Example:</p>
<pre><code>pub fn hash_single_byte(val: bytes[1]) -&gt; u256:
    return keccak256(val)
</code></pre>
</li>
<li>
<p>Require structs to be initialized using keyword arguments.</p>
<p>Example:</p>
<pre><code>struct House:
    vacant: bool
    price: u256
</code></pre>
<p>Previously, <code>House</code> could be instantiated as <code>House(true, 1000000)</code>.
With this change it is required to be instantiated like <code>House(vacant=true, price=1000000)</code></p>
<p>This ensures property assignment is less prone to get mixed up. It also makes struct
initialization visually stand out more from function calls. (<a href="https://github.com/ethereum/fe/issues/260">#260</a>)</p>
</li>
<li>
<p>Implement support for boolean <code>not</code> operator. (<a href="https://github.com/ethereum/fe/issues/264">#264</a>)</p>
<p>Example:</p>
<pre><code>if not covid_test.is_positive(person):
    allow_boarding(person)
</code></pre>
</li>
<li>
<p>Do over/underflow checks for additions (SafeMath).</p>
<p>With this change all additions (e.g <code>x + y</code>) for signed and unsigned
integers check for over- and underflows and revert if necessary. (<a href="https://github.com/ethereum/fe/issues/265">#265</a>)</p>
</li>
<li>
<p>Added a builtin function <code>abi_encode()</code> that can be used to encode structs. The return type is a 
fixed-size array of bytes that is equal in size to the encoding. The type system does not support 
dynamically-sized arrays yet, which is why we used fixed. (<a href="https://github.com/ethereum/fe/issues/266">#266</a>)</p>
<p>Example:</p>
<pre><code>struct House:
    price: u256
    size: u256
    rooms: u8
    vacant: bool
  
contract Foo:
    pub fn hashed_house() -&gt; u256:
        house: House = House(
            price=300,
            size=500,
            rooms=u8(20),
            vacant=true
        )
        return keccak256(house.abi_encode())
</code></pre>
</li>
<li>
<p>Perform over/underflow checks for subtractions (SafeMath). (<a href="https://github.com/ethereum/fe/issues/267">#267</a>)</p>
<p>With this change all subtractions (e.g <code>x - y</code>) for signed and unsigned
integers check for over- and underflows and revert if necessary. </p>
</li>
<li>
<p>Support for the boolean operations <code>and</code> and <code>or</code>. (<a href="https://github.com/ethereum/fe/issues/270">#270</a>)</p>
<p>Examples:</p>
<pre><code>contract Foo:
    pub fn bar(x: bool, y: bool) -&gt; bool:
        return x and y
</code></pre>
<pre><code>contract Foo:
    pub fn bar(x: bool, y: bool) -&gt; bool:
        return x or y
</code></pre>
<p>Support for <code>self.address</code>.</p>
<p>This expression returns the address of the current contract.</p>
<p>Example:</p>
<pre><code>contract Foo:
    pub fn bar() -&gt; address:
        return self.address
</code></pre>
</li>
</ul>
<h3 id="bugfixes-10"><a class="header" href="#bugfixes-10">Bugfixes</a></h3>
<ul>
<li>
<p>Perform type checking when calling event constructors</p>
<p>Previously, the following would not raise an error even though it should:</p>
<pre><code>contract Foo:
    event MyEvent:
        val_1: string100
        val_2: u8

    pub fn foo():
        emit MyEvent(&quot;foo&quot;, 1000)

</code></pre>
<p>Wit this change, the code fails with a type error as expected. (<a href="https://github.com/ethereum/fe/issues/202">#202</a>)</p>
</li>
<li>
<p>Fix bug where compilation of contracts without public functions would result in illegal YUL. (<a href="https://github.com/ethereum/fe/issues/219">#219</a>)</p>
<p>E.g without this change, the following doesn't compile to proper YUL</p>
<pre><code>contract Empty:
  lonely: u256
</code></pre>
</li>
<li>
<p>Ensure numeric literals can't exceed 256 bit range. Previously, this would result in a
non user friendly error at the YUL compilation stage. With this change it is caught
at the analyzer stage and presented to the user as a regular error. (<a href="https://github.com/ethereum/fe/issues/225">#225</a>)</p>
</li>
<li>
<p>Fix crash when return is used without value.</p>
<p>These two methods should both be treated as returning <code>()</code></p>
<pre><code>  pub fn explicit_return():
    return

  pub fn implicit():
    pass
</code></pre>
<p>Without this change, the <code>explicit_return</code> crashes the compiler. (<a href="https://github.com/ethereum/fe/issues/261">#261</a>)</p>
</li>
</ul>
<h3 id="internal-changes---for-fe-contributors-10"><a class="header" href="#internal-changes---for-fe-contributors-10">Internal Changes - for Fe Contributors</a></h3>
<ul>
<li>Renamed the fe-semantics library to fe-analyzer. (<a href="https://github.com/ethereum/fe/issues/207">#207</a>)</li>
<li>Runtime testing utilities. (<a href="https://github.com/ethereum/fe/issues/243">#243</a>)</li>
<li>Values are stored more efficiently in storage. (<a href="https://github.com/ethereum/fe/issues/251">#251</a>)</li>
</ul>
<h2 id="010-alpha-amethyst-2021-01-20"><a class="header" href="#010-alpha-amethyst-2021-01-20">0.1.0-alpha &quot;Amethyst&quot; (2021-01-20)</a></h2>
<p><strong>WARNING: This is an alpha version to share the development progress with developers and enthusiasts. It is NOT yet intended to be used for anything serious. At this point Fe is missing a lot of features and has a lot of bugs instead.</strong></p>
<p>This is the first <strong>alpha</strong> release and kicks off our release schedule which will be one release every month in the future. Since we have just started tracking progress on changes, the following list of changes is incomplete, but will appropriately document progress between releases from now on.</p>
<h3 id="features-12"><a class="header" href="#features-12">Features</a></h3>
<ul>
<li>
<p>Added support for <code>for loop</code>, allows iteration over static arrays. (<a href="https://github.com/ethereum/fe/issues/134">#134</a>)</p>
</li>
<li>
<p>Enforce bounds on numeric literals in type constructors.</p>
<p>For instance calling <code>u8(1000)</code> or <code>i8(-250)</code> will give an error because
the literals <code>1000</code> and <code>-250</code> do not fit into <code>u8</code> or <code>i8</code>. (<a href="https://github.com/ethereum/fe/issues/145">#145</a>)</p>
</li>
<li>
<p>Added builtin copying methods <code>clone()</code> and <code>to_mem()</code> to reference types. (<a href="https://github.com/ethereum/fe/issues/155">#155</a>)</p>
<p>usage:</p>
<pre><code># copy a segment of storage into memory and assign the new pointer
my_mem_array = self.my_sto_array.to_mem()

# copy a segment of memory into another segment of memory and assign the new pointer
my_other_mem_array = my_mem_array.clone()
</code></pre>
</li>
<li>
<p>Support emitting JSON ABI via <code>--emit abi</code>.
The default value of <code>--emit</code> is now <code>abi,bytecode</code>. (<a href="https://github.com/ethereum/fe/issues/160">#160</a>)</p>
</li>
<li>
<p>Ensure integer type constructor reject all expressions that aren't a numeric literal.
For instance, previously the compiler would not reject the following code even though it could not be guaranteed that <code>val</code> would fit into an <code>u16</code>.</p>
<pre><code>pub fn bar(val: u8) -&gt; u16:
        return u16(val)
</code></pre>
<p>Now such code is rejected and integer type constructor do only work with numeric literals such as <code>1</code> or <code>-3</code>. (<a href="https://github.com/ethereum/fe/issues/163">#163</a>)</p>
</li>
<li>
<p>Support for ABI decoding of all array type. (<a href="https://github.com/ethereum/fe/issues/172">#172</a>)</p>
</li>
<li>
<p>Support for value assignments in declaration.</p>
<p>Previously, this code would fail:</p>
<pre><code>another_reference: u256[10] = my_array
</code></pre>
<p>As a workaround declaration and assignment could be split apart.</p>
<pre><code>another_reference: u256[10]
another_reference = my_array
</code></pre>
<p>With this change, the shorter declaration with assignment syntax is supported. (<a href="https://github.com/ethereum/fe/issues/173">#173</a>)</p>
</li>
</ul>
<h3 id="improved-documentation-2"><a class="header" href="#improved-documentation-2">Improved Documentation</a></h3>
<ul>
<li>Point to examples in the README (<a href="https://github.com/ethereum/fe/issues/162">#162</a>)</li>
<li>Overhaul README page to better reflect the current state of the project. (<a href="https://github.com/ethereum/fe/issues/177">#177</a>)</li>
<li>Added descriptions of the <code>to_mem</code> and <code>clone</code> functions to the spec. (<a href="https://github.com/ethereum/fe/issues/195">#195</a>)</li>
</ul>
<h3 id="internal-changes---for-fe-contributors-11"><a class="header" href="#internal-changes---for-fe-contributors-11">Internal Changes - for Fe Contributors</a></h3>
<ul>
<li>Updated the Solidity backend to v0.8.0. (<a href="https://github.com/ethereum/fe/issues/169">#169</a>)</li>
<li>Run CI tests on Mac and support creating Mac binaries for releases. (<a href="https://github.com/ethereum/fe/issues/178">#178</a>)</li>
</ul>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="contributor-covenant-code-of-conduct"><a class="header" href="#contributor-covenant-code-of-conduct">Contributor Covenant Code of Conduct</a></h1>
<h2 id="our-pledge"><a class="header" href="#our-pledge">Our Pledge</a></h2>
<p>We as members, contributors, and leaders pledge to make participation in our
community a harassment-free experience for everyone, regardless of age, body
size, visible or invisible disability, ethnicity, sex characteristics, gender
identity and expression, level of experience, education, socio-economic status,
nationality, personal appearance, race, caste, color, religion, or sexual identity
and orientation.</p>
<p>We pledge to act and interact in ways that contribute to an open, welcoming,
diverse, inclusive, and healthy community.</p>
<h2 id="our-standards"><a class="header" href="#our-standards">Our Standards</a></h2>
<p>Examples of behavior that contributes to a positive environment for our
community include:</p>
<ul>
<li>Demonstrating empathy and kindness toward other people</li>
<li>Being respectful of differing opinions, viewpoints, and experiences</li>
<li>Giving and gracefully accepting constructive feedback</li>
<li>Accepting responsibility and apologizing to those affected by our mistakes,
and learning from the experience</li>
<li>Focusing on what is best not just for us as individuals, but for the
overall community</li>
</ul>
<p>Examples of unacceptable behavior include:</p>
<ul>
<li>The use of sexualized language or imagery, and sexual attention or
advances of any kind</li>
<li>Trolling, insulting or derogatory comments, and personal or political attacks</li>
<li>Public or private harassment</li>
<li>Publishing others' private information, such as a physical or email
address, without their explicit permission</li>
<li>Other conduct which could reasonably be considered inappropriate in a
professional setting</li>
</ul>
<h2 id="enforcement-responsibilities"><a class="header" href="#enforcement-responsibilities">Enforcement Responsibilities</a></h2>
<p>Community leaders are responsible for clarifying and enforcing our standards of
acceptable behavior and will take appropriate and fair corrective action in
response to any behavior that they deem inappropriate, threatening, offensive,
or harmful.</p>
<p>Community leaders have the right and responsibility to remove, edit, or reject
comments, commits, code, wiki edits, issues, and other contributions that are
not aligned to this Code of Conduct, and will communicate reasons for moderation
decisions when appropriate.</p>
<h2 id="scope"><a class="header" href="#scope">Scope</a></h2>
<p>This Code of Conduct applies within all community spaces, and also applies when
an individual is officially representing the community in public spaces.
Examples of representing our community include using an official e-mail address,
posting via an official social media account, or acting as an appointed
representative at an online or offline event.</p>
<h2 id="enforcement"><a class="header" href="#enforcement">Enforcement</a></h2>
<p>Instances of abusive, harassing, or otherwise unacceptable behavior may be
reported to the community leaders responsible for enforcement at
piper@pipermerriam.com.
All complaints will be reviewed and investigated promptly and fairly.</p>
<p>All community leaders are obligated to respect the privacy and security of the
reporter of any incident.</p>
<h2 id="enforcement-guidelines"><a class="header" href="#enforcement-guidelines">Enforcement Guidelines</a></h2>
<p>Community leaders will follow these Community Impact Guidelines in determining
the consequences for any action they deem in violation of this Code of Conduct:</p>
<h3 id="1-correction"><a class="header" href="#1-correction">1. Correction</a></h3>
<p><strong>Community Impact</strong>: Use of inappropriate language or other behavior deemed
unprofessional or unwelcome in the community.</p>
<p><strong>Consequence</strong>: A private, written warning from community leaders, providing
clarity around the nature of the violation and an explanation of why the
behavior was inappropriate. A public apology may be requested.</p>
<h3 id="2-warning"><a class="header" href="#2-warning">2. Warning</a></h3>
<p><strong>Community Impact</strong>: A violation through a single incident or series
of actions.</p>
<p><strong>Consequence</strong>: A warning with consequences for continued behavior. No
interaction with the people involved, including unsolicited interaction with
those enforcing the Code of Conduct, for a specified period of time. This
includes avoiding interactions in community spaces as well as external channels
like social media. Violating these terms may lead to a temporary or
permanent ban.</p>
<h3 id="3-temporary-ban"><a class="header" href="#3-temporary-ban">3. Temporary Ban</a></h3>
<p><strong>Community Impact</strong>: A serious violation of community standards, including
sustained inappropriate behavior.</p>
<p><strong>Consequence</strong>: A temporary ban from any sort of interaction or public
communication with the community for a specified period of time. No public or
private interaction with the people involved, including unsolicited interaction
with those enforcing the Code of Conduct, is allowed during this period.
Violating these terms may lead to a permanent ban.</p>
<h3 id="4-permanent-ban"><a class="header" href="#4-permanent-ban">4. Permanent Ban</a></h3>
<p><strong>Community Impact</strong>: Demonstrating a pattern of violation of community
standards, including sustained inappropriate behavior,  harassment of an
individual, or aggression toward or disparagement of classes of individuals.</p>
<p><strong>Consequence</strong>: A permanent ban from any sort of public interaction within
the community.</p>
<h2 id="attribution"><a class="header" href="#attribution">Attribution</a></h2>
<p>This Code of Conduct is adapted from the <a href="https://www.contributor-covenant.org">Contributor Covenant</a>,
version 2.0, available at
<a href="https://www.contributor-covenant.org/version/2/0/code_of_conduct.html">https://www.contributor-covenant.org/version/2/0/code_of_conduct.html</a>.</p>
<p>Community Impact Guidelines were inspired by 
<a href="https://github.com/mozilla/diversity">Mozilla's code of conduct enforcement ladder</a>.</p>
<p>For answers to common questions about this code of conduct, see the FAQ at
<a href="https://www.contributor-covenant.org/faq">https://www.contributor-covenant.org/faq</a>. Translations are available 
at <a href="https://www.contributor-covenant.org/translations">https://www.contributor-covenant.org/translations</a>.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        

                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                

                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        
        
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
        
        

    </body>
</html>
